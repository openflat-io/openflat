import{bb as U,a$ as x,l as s,be as k,bI as S,q as i,s as f,b5 as B}from"./index.ec641b5a.js";import{w as I,u as T,S as w,a as D,W,E as P,R as y,b as E,N as A,T as O,c as M,d as u,e as V,C as L,f as G,I as j,g as F,h as Q,i as $,j as q,k as z,l as J,m as b}from"./ExtraPadding.01770bc1.js";import{T as c,a as h}from"./constants.3556e8ac.js";import{u as _}from"./use-login-check.7d6be6b3.js";import"./index.a44c3572.js";import"./index.21e94715.js";import"./index.a792be8b.js";import"./routes.96a891de.js";import"./style.2fbf8d03.js";import"./Skeleton.1ecba237.js";import"./Table.395efdc7.js";import"./index.81013a66.js";import"./CSSTransition.2eb23181.js";import"./isEqual.5ca85d66.js";import"./lifecycle.f56c70c9.js";import"./agora.f9cd284f.js";import"./courseware-converting.fa8cab40.js";import"./debounce.3c601f71.js";import"./constants.1a2b4361.js";var t="/Users/yl/github-repo/openflat/packages/flat-pages/src/BigClassPage/index.tsx";const ce=I(U(function({classroomStore:e}){_();const r=x(),m=e.whiteboardStore,a=s.exports.useContext(k),{confirm:g,...v}=T(e),[l,p]=s.exports.useState(!0);return s.exports.useEffect(()=>{e.isCreator&&e.roomStatus===S.Idle&&e.startClass()},[e]),i("div",{className:"big-class-page-container",children:i("div",{className:"big-class-realtime-container",children:i("div",{className:"big-class-realtime-box",children:[a?i(c,{left:o(),right:N(),showWindowsSystemBtn:a.showWindowsBtn,onClickWindowsSystemBtn:a.onClickWindowsSystemBtn,onDoubleClick:a.clickWindowMaximize},void 0,!1,{fileName:t,lineNumber:66,columnNumber:29},this):i(c,{left:o(),right:N()},void 0,!1,{fileName:t,lineNumber:74,columnNumber:29},this),i("div",{className:"big-class-realtime-content",children:[i("div",{className:"big-class-realtime-content-container",children:[i(w,{classroomStore:e},void 0,!1,{fileName:t,lineNumber:78,columnNumber:33},this),i(D,{classroomStore:e,handleOk:()=>e.toggleShareScreen(!0)},void 0,!1,{fileName:t,lineNumber:79,columnNumber:33},this),i(W,{classRoomStore:e,whiteboardStore:m},void 0,!1,{fileName:t,lineNumber:83,columnNumber:33},this)]},void 0,!0,{fileName:t,lineNumber:77,columnNumber:29},this),C()]},void 0,!0,{fileName:t,lineNumber:76,columnNumber:25},this),i(P,{isCreator:e.isCreator,...v},void 0,!1,{fileName:t,lineNumber:90,columnNumber:25},this),i(y,{isCreator:e.isCreator,isRemoteLogin:e.isRemoteLogin,roomStatus:e.roomStatus},void 0,!1,{fileName:t,lineNumber:94,columnNumber:25},this)]},void 0,!0,{fileName:t,lineNumber:64,columnNumber:21},this)},void 0,!1,{fileName:t,lineNumber:63,columnNumber:17},this)},void 0,!1,{fileName:t,lineNumber:62,columnNumber:13},this);function o(){var n,d;return i(f,{children:[i(E,{},void 0,!1,{fileName:t,lineNumber:107,columnNumber:21},this),i(A,{networkQuality:e.networkQuality},void 0,!1,{fileName:t,lineNumber:108,columnNumber:21},this),e.isCreator?((n=e.roomInfo)==null?void 0:n.beginTime)&&i(O,{beginTime:e.roomInfo.beginTime,roomStatus:e.roomStatus},void 0,!1,{fileName:t,lineNumber:111,columnNumber:29},this):i(M,{roomStatus:e.roomStatus,roomType:(d=e.roomInfo)==null?void 0:d.roomType},void 0,!1,{fileName:t,lineNumber:117,columnNumber:25},this)]},void 0,!0)}function N(){return i(f,{children:[m.isWritable&&!e.isRemoteScreenSharing&&i(u,{icon:i(V,{active:e.isScreenSharing},void 0,!1,{fileName:t,lineNumber:131,columnNumber:35},this),title:r("share-screen.self"),onClick:()=>{window.isElectron?e.isScreenSharing?e.toggleShareScreen(!1):e.toggleShareScreenPicker(!0):e.toggleShareScreen()}},void 0,!1,{fileName:t,lineNumber:130,columnNumber:25},this),e.isCreator&&i(L,{isRecording:e.isRecording,loading:e.isRecordingLoading,onClick:()=>{e.toggleRecording({onStop(){B.success(r("recording-completed-tips"))}})}},void 0,!1,{fileName:t,lineNumber:147,columnNumber:25},this),i(G,{classroom:e},void 0,!1,{fileName:t,lineNumber:160,columnNumber:21},this),i(j,{roomInfo:e.roomInfo},void 0,!1,{fileName:t,lineNumber:161,columnNumber:21},this),!(a!=null&&a.showWindowsBtn)&&i(u,{icon:i(F,{},void 0,!1,{fileName:t,lineNumber:164,columnNumber:35},this),title:r("exit"),onClick:()=>g(Q.ExitButton)},void 0,!1,{fileName:t,lineNumber:163,columnNumber:25},this),a!=null&&a.showWindowsBtn?null:i(h,{},void 0,!1,{fileName:t,lineNumber:169,columnNumber:58},this),i(u,{icon:l?i($,{},void 0,!1,{fileName:t,lineNumber:171,columnNumber:52},this):i(q,{},void 0,!1,{fileName:t,lineNumber:171,columnNumber:72},this),title:r(l?"side-panel.hide":"side-panel.show"),onClick:R},void 0,!1,{fileName:t,lineNumber:170,columnNumber:21},this),(a==null?void 0:a.showWindowsBtn)&&i(h,{},void 0,!1,{fileName:t,lineNumber:175,columnNumber:52},this)]},void 0,!0)}function C(){const{creator:n}=e.users;return i(z,{chatSlot:i(J,{classRoomStore:e,maxSpeakingUsers:1},void 0,!1,{fileName:t,lineNumber:186,columnNumber:25},this),isShow:l,isVideoOn:e.isJoinedRTC,videoSlot:i("div",{className:"big-class-realtime-rtc-box",children:[i(b,{avatarUser:n,isAvatarUserCreator:!0,isCreator:e.isCreator,rtcAvatar:n&&e.rtc.getAvatar(n.rtcUID),updateDeviceState:e.updateDeviceState,userUUID:e.userUUID},void 0,!1,{fileName:t,lineNumber:192,columnNumber:29},this),e.onStageUserUUIDs.length>0&&i(b,{avatarUser:e.firstOnStageUser,isAvatarUserCreator:!1,isCreator:e.isCreator,rtcAvatar:e.firstOnStageUser&&e.rtc.getAvatar(e.firstOnStageUser.rtcUID),updateDeviceState:e.updateDeviceState,userUUID:e.userUUID},void 0,!1,{fileName:t,lineNumber:201,columnNumber:33},this)]},void 0,!0,{fileName:t,lineNumber:191,columnNumber:25},this)},void 0,!1,{fileName:t,lineNumber:184,columnNumber:17},this)}function R(){p(n=>!n),m.setRightSideClose(l)}}));export{ce as BigClassPage,ce as default};
//# sourceMappingURL=index.44dab42c.js.map
