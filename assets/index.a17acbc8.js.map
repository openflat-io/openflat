{"version":3,"file":"index.a17acbc8.js","sources":["../../../../node_modules/.pnpm/react-use@17.4.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/react-use/esm/useEffectOnce.js","../../../../node_modules/.pnpm/react-use@17.4.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/react-use/esm/useUnmount.js","../../../../node_modules/.pnpm/react-use@17.4.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/react-use/esm/useRafState.js","../../../../node_modules/.pnpm/react-use@17.4.0_sfoxds7t5ydpegc3knd667wn6m/node_modules/react-use/esm/useWindowSize.js","../../../../packages/flat-pages/src/constants/config.ts","../../../../packages/flat-pages/src/JoinPage/icons/logo.svg","../../../../packages/flat-pages/src/JoinPage/icons/download.svg","../../../../packages/flat-pages/src/JoinPage/icons/join.svg","../../../../packages/flat-pages/src/JoinPage/JoinPageDesktop.tsx","../../../../packages/flat-pages/src/JoinPage/icons/logo-sm.svg","../../../../packages/flat-pages/src/JoinPage/icons/open-in-browser.svg","../../../../packages/flat-pages/src/JoinPage/JoinPageMobile.tsx","../../../../packages/flat-pages/src/JoinPage/index.tsx"],"sourcesContent":["import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmount = function (fn) {\n    var fnRef = useRef(fn);\n    // update the ref each render so if it change the newest callback will be invoked\n    fnRef.current = fn;\n    useEffectOnce(function () { return function () { return fnRef.current(); }; });\n};\nexport default useUnmount;\n","import { useCallback, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useRafState = function (initialState) {\n    var frame = useRef(0);\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = useCallback(function (value) {\n        cancelAnimationFrame(frame.current);\n        frame.current = requestAnimationFrame(function () {\n            setState(value);\n        });\n    }, []);\n    useUnmount(function () {\n        cancelAnimationFrame(frame.current);\n    });\n    return [state, setRafState];\n};\nexport default useRafState;\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { isBrowser, off, on } from './misc/util';\nvar useWindowSize = function (initialWidth, initialHeight) {\n    if (initialWidth === void 0) { initialWidth = Infinity; }\n    if (initialHeight === void 0) { initialHeight = Infinity; }\n    var _a = useRafState({\n        width: isBrowser ? window.innerWidth : initialWidth,\n        height: isBrowser ? window.innerHeight : initialHeight,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        if (isBrowser) {\n            var handler_1 = function () {\n                setState({\n                    width: window.innerWidth,\n                    height: window.innerHeight,\n                });\n            };\n            on(window, 'resize', handler_1);\n            return function () {\n                off(window, 'resize', handler_1);\n            };\n        }\n    }, []);\n    return state;\n};\nexport default useWindowSize;\n","export const NEED_BINDING_PHONE = process.env.FLAT_REGION === \"CN\";\n\nexport const NEED_CHECK_CENSOR = process.env.FLAT_REGION === \"CN\";\n","export default \"data:image/svg+xml;charset=utf8,%3csvg width='53' height='22' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3ctext font-family='PingFangSC-Medium%2c PingFang SC' font-size='16' font-weight='400' fill='%23444E60'%3e %3ctspan x='24' y='17'%3eFlat%3c/tspan%3e %3c/text%3e%3cpath d='M2.727 15.545h2.728v2.728a2.727 2.727 0 1 1-2.728-2.728Z' fill='%23D1E1FA'/%3e%3cpath d='M4.54 8.273h8.187v2.732a2.722 2.722 0 0 1-2.722 2.722H4.54a2.722 2.722 0 0 1-2.722-2.722v-.01A2.722 2.722 0 0 1 4.54 8.273Z' fill='%2383B1FD'/%3e%3cpath d='M6.358 1H20v2.733a2.722 2.722 0 0 1-2.722 2.722H6.358a2.722 2.722 0 0 1-2.722-2.722v-.011A2.722 2.722 0 0 1 6.358 1Z' fill='%233381FF'/%3e%3c/g%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg width='72' height='72' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath d='M18 42v8a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4v-8h0' stroke='%233381FF' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M18 50a4 4 0 0 0 4 4h28a4 4 0 0 0 4-4H18Zm7.707-16.293 9.586 9.586a1 1 0 0 0 1.414 0l9.586-9.586A1 1 0 0 0 45.586 32H39V19a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v13h-6.586a1 1 0 0 0-.707 1.707Z' fill='%233381FF'/%3e%3c/g%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg width='72' height='72' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath fill='white' d='M12 12h48v48H12z'/%3e%3crect stroke='%233381FF' stroke-width='3' stroke-linejoin='round' x='18' y='18' width='36' height='36' rx='4'/%3e%3cpath stroke='%233381FF' stroke-width='3' stroke-linecap='round' stroke-linejoin='round' d='M30 41h12m-6-6v12'/%3e%3cpath d='M50 18a4 4 0 0 1 4 4v8H18v-8a4 4 0 0 1 4-4Zm-25 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z' fill='%233381FF'/%3e%3c/g%3e%3c/svg%3e\";","/* eslint react/jsx-no-target-blank: off */\nimport logoSVG from \"./icons/logo.svg\";\nimport downloadSVG from \"./icons/download.svg\";\nimport joinSVG from \"./icons/join.svg\";\n\nimport React, { useMemo } from \"react\";\nimport { Avatar, Button } from \"antd\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nimport { RouteNameType, usePushHistory } from \"../utils/routes\";\nimport { FLAT_DOWNLOAD_URL } from \"../constants/process\";\n\nexport interface JoinPageDesktopProps {\n    isLogin: boolean;\n    avatar: string;\n    roomUUID: string;\n    privacyURL: string;\n    serviceURL: string;\n    joinRoom: () => void;\n}\n\nexport default function JoinPageDesktop({\n    isLogin,\n    avatar,\n    roomUUID,\n    privacyURL,\n    serviceURL,\n    joinRoom,\n}: JoinPageDesktopProps): React.ReactElement {\n    const t = useTranslate();\n    const pushHistory = usePushHistory();\n\n    const url = useMemo(() => `x-agora-flat-client://joinRoom?roomUUID=${roomUUID}`, [roomUUID]);\n\n    return (\n        <div className=\"join-page-container\">\n            <iframe height=\"0\" src={url} style={{ display: \"none\" }} title=\"[hidden]\" width=\"0\" />\n            <div className=\"join-page-header-container\">\n                <img alt=\"app logo\" src={logoSVG} />\n                {isLogin ? (\n                    <Avatar\n                        className=\"join-page-header-avatar\"\n                        icon={<img src={avatar} />}\n                        size={32}\n                    />\n                ) : (\n                    <div\n                        className=\"join-page-header-btn\"\n                        onClick={() => {\n                            if (roomUUID) {\n                                sessionStorage.setItem(\"roomUUID\", roomUUID);\n                                pushHistory(RouteNameType.LoginPage);\n                            }\n                        }}\n                    >\n                        {t(\"login\")}\n                    </div>\n                )}\n            </div>\n            <div className=\"join-page-content-container\">\n                <div className=\"join-page-content-title\">{t(\"select-the-way-to-join-room\")}</div>\n                <div className=\"join-page-content-btn-container\">\n                    <Button\n                        className=\"join-page-content-btn\"\n                        onClick={() => window.open(FLAT_DOWNLOAD_URL, \"_blank\")}\n                    >\n                        <img alt=\"download icon\" src={downloadSVG} />\n                        <div className=\"join-page-content-text-container\">\n                            <div className=\"join-page-content-text\">\n                                {t(\"download-desktop-application\")}\n                            </div>\n                            <span className=\"join-page-content-sub-text\">\n                                {t(\"download-desktop-application-tips\")}\n                            </span>\n                        </div>\n                    </Button>\n                    <Button className=\"join-page-content-btn\" onClick={joinRoom}>\n                        <img alt=\"join icon\" src={joinSVG} />\n                        <div className=\"join-page-content-text-container\">\n                            <div className=\"join-page-content-text\">\n                                {t(\"web-version-join-room\")}\n                            </div>\n                            <span className=\"join-page-content-sub-text\">\n                                {t(\"web-version-join-room-tips\")}\n                            </span>\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"join-page-content-divider\">\n                    <span>{t(\"or\")}</span>\n                </div>\n                <div className=\"join-page-content-container-open-flat\">\n                    <span>{t(\"already-installed-tips\")}</span>\n                    <a href={url}>{t(\"open-now\")}</a>\n                </div>\n            </div>\n            <div className=\"join-page-footer-container\">\n                <a href={privacyURL} rel=\"noreferrer\" target=\"_blank\">\n                    {t(\"privacy-agreement\")}\n                </a>\n                <span>ï½œ</span>\n                <a href={serviceURL} rel=\"noreferrer\" target=\"_blank\">\n                    {t(\"service-policy\")}\n                </a>\n            </div>\n        </div>\n    );\n}\n","export default \"data:image/svg+xml;charset=utf8,%3csvg width='46' height='44' viewBox='0 0 23 22' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath d='M2.727 15.545h2.728v2.728a2.727 2.727 0 1 1-2.728-2.728Z' fill='%23D1E1FA'/%3e%3cpath d='M4.54 8.273h8.187v2.732a2.722 2.722 0 0 1-2.722 2.722H4.54a2.722 2.722 0 0 1-2.722-2.722v-.01A2.722 2.722 0 0 1 4.54 8.273Z' fill='%2383B1FD'/%3e%3cpath d='M6.358 1H20v2.733a2.722 2.722 0 0 1-2.722 2.722H6.358a2.722 2.722 0 0 1-2.722-2.722v-.011A2.722 2.722 0 0 1 6.358 1Z' fill='%233381FF'/%3e%3c/g%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 176 124'%3e%3cg fill='none' fill-rule='evenodd' transform='translate(0 3)'%3e%3cpath fill='white' fill-rule='nonzero' d='m96.067 71 .002 2H96v-2h.067Zm3.96-.112.111 1.997-1.012.05-1.013.035-.057-2a71.943 71.943 0 0 0 1.97-.082Zm3.945-.33.222 1.987-1.008.106-1.01.091-.167-1.993c.656-.055 1.31-.119 1.963-.192Zm3.918-.549.332 1.972-1 .162-1.004.147-.277-1.98a70.86 70.86 0 0 0 1.949-.301Zm3.876-.765.442 1.95-.99.217-.994.204-.387-1.962a70.584 70.584 0 0 0 1.929-.41Zm3.832-.983.551 1.923-.976.272-.981.259-.497-1.937a70.451 70.451 0 0 0 1.903-.517Zm3.769-1.195.658 1.888-.96.327-.965.314-.605-1.907a70.434 70.434 0 0 0 1.872-.622Zm3.69-1.404.763 1.85-.94.38-.945.366-.71-1.87a70.508 70.508 0 0 0 1.833-.726Zm3.612-1.609.865 1.803-.918.433-.923.42-.815-1.828a70.64 70.64 0 0 0 1.791-.828Zm3.423-1.758.962 1.753-.892.482-.9.469-.912-1.78c.585-.3 1.166-.608 1.742-.924Zm3.424-2.005 1.059 1.697-.865.531-.872.519-1.01-1.726c.567-.332 1.13-.673 1.688-1.02Zm3.304-2.19 1.151 1.635-.833.578-.841.567-1.106-1.667a75.434 75.434 0 0 0 1.629-1.113Zm3.175-2.37 1.24 1.569-.8.623-.808.613-1.196-1.603a71.299 71.299 0 0 0 1.564-1.202Zm3.036-2.54 1.325 1.498-.763.667-.773.655-1.283-1.534c.504-.421 1.002-.85 1.494-1.285Zm2.892-2.706 1.406 1.423-.726.708-.736.698-1.366-1.46c.48-.45.954-.906 1.422-1.369Zm2.734-2.857 1.483 1.342-.686.747-.695.737-1.446-1.382a71.44 71.44 0 0 0 1.344-1.444Zm2.57-3.002 1.554 1.258-.643.784-.654.774-1.52-1.3c.428-.5.849-1.005 1.262-1.516Zm2.37-3.1 1.62 1.172-.599.818-.61.81-1.589-1.216c.4-.522.792-1.05 1.178-1.583Zm2.232-3.28 1.684 1.08-.552.85-.565.841-1.653-1.125c.37-.543.732-1.092 1.086-1.645Zm2.042-3.391 1.742.983-.506.88-.517.874-1.714-1.032c.34-.563.671-1.132.995-1.705Zm1.847-3.496 1.793.885-.454.906-.467.899-1.769-.934a70.66 70.66 0 0 0 .897-1.756Zm1.638-3.568 1.84.783-.404.93-.416.924-1.818-.834c.274-.597.54-1.198.798-1.803Zm1.449-3.688 1.881.679-.35.95-.364.945-1.861-.731c.24-.611.471-1.226.694-1.843Zm1.237-3.757 1.917.573-.297.968-.31.965-1.9-.626c.206-.623.402-1.25.59-1.88Zm1.024-3.815 1.945.464-.242.986-.256.982-1.932-.518c.17-.635.332-1.273.485-1.914ZM168 0l5.732 14.565-6.078-.54-.2.994-1.958-.41.153-.763-5.862-.521L168 0Z'/%3e%3crect width='32' height='32' x='56' y='56' fill='white' rx='6'/%3e%3cpath fill='%235D5D5D' fill-rule='nonzero' d='M72 60c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12Zm1.025.85s.752-.436 1.013-.174c.262.261 1.177-.044 3.531 1.351 0 0-.518.553-.631.52.066.12.27.487.413.713.175.274.218.293.218.293l-.174.262.174.043c-.174-.043-.261.48-.514.567-.252.087.078.567-.009.654-.087.087.044.872 0 1.334-.043.462-.218.061-.436 0-.218-.06-.566-.2-.596-.331-.03-.131-.101-.523-.014-.741.087-.218-.262-.436-.436-.596-.174-.16-.872.029-1.003 0-.13-.03-.218-.407-.218-.756 0-.349.61.044.954 0s.398-.913.398-.913l-.02-.739c-.14-.056-.164-.129.063-.223 0 0-.74-.174-.915.218-.175.393-.262.355-.305.744-.044.39-.727.047-.887 0-.16-.046-.596-.57-.596-.57.131-.304.218-.522.218-.522l-.228-.524v-.61Zm-6.878 4.055c.074-.099.567-.96 1.177-.698.61.262 1.003-.305 1.003-.305s.896-.916.95-.785l.053.131c-.054-.13.74-.349.828.087.087.436.61.655.61.655s-.305.522-.218.915c.088.392.393.48.218.828-.174.349-.523.48-.61.654-.087.174-.804-.567-.882-.828-.077-.262-.46-.524-.792-.436-.331.087-1.203.305-1.378.218-.174-.088-1.163-.164-.959-.436Zm11.684 12.817c-.349.916-1.177 2.485-1.613 2.921-.436.436-.96 1.264-1.352 1.57-.392.305-.392.871-.871.828-.48-.044-1.047-1.395-.916-1.744.13-.349-2.398-.96-2.398-.96s-1.09-.13-1.308-2.223a37.723 37.723 0 0 1-.078-.82c-.328-.145-1.613-.676-2.407-.487-.915.218-1.133-.291-1.918-.407l-1.351-1.25s-2.224-2.572-1.962-3.008c.261-.436.261-1.613.305-1.875.043-.262-.348-1.918-.327-2.136.022-.218-.327-1.047-.327-1.047s.828-1.743.959-1.743c.13 0 .61 1.482 1.09 1.525.48.044 1.787-.043 1.984-.261.196-.218.37-.48.588-.48.218 0 .218-.13.61.044.393.174.829.436 1.003.697.175.262-.13.785.785.785s.915-.218 1.046.393c.131.61.286 1.961-.097 2.049-.382.087-1.516 1.414-1.429 1.84.088.427.088 1.08-.087 1.473-.174.392-.305.523-.959.48-.654-.044-1.207-.393-1.388.13-.181.523-.528 1.702.08 1.583 0 0 .96-.292 1.308 0 .349.292 2.572 1.251 2.572 1.251s2.006-2.18 5.145-.785l.523.35.872-.19s1.133-.334 1.526-.247l.392.087v-.174s.349.916 0 1.831Zm5.1-4.97s-.26-.392-.26-.805c0-.413-.306-.372-.306-.895s-.392-.349-.654-.698c-.261-.349-.392.131-.61.175-.218.043-.175.392-.393.806-.218.414-.784.676-.959.598-.174-.077-.828-.663-.872-.794-.043-.13-.915-.872-.891-1.046.024-.175-.242-1.09-.417-1.526-.174-.436 0-2.154 0-2.154-.261-.148 2.398-1.247 2.05-1.378-.35-.13-.524-1.57-.524-1.57l1.27.655c1.269.654 2.872 5.842 2.872 5.842v1.482l-.305 1.308Z'/%3e%3c/g%3e%3c/svg%3e\";","import logoSVG from \"./icons/logo-sm.svg\";\nimport openInBrowserSVG from \"./icons/open-in-browser.svg\";\n\nimport React, { useCallback, useEffect, useMemo } from \"react\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport { FLAT_DOWNLOAD_URL } from \"../constants/process\";\n\nexport interface JoinPageMobileProps {\n    roomUUID: string;\n    privacyURL: string;\n    serviceURL: string;\n}\n\nconst isWeChatBrowser = window.navigator.userAgent.toLowerCase().includes(\"micromessenger\");\n\nexport default function JoinPageMobile({\n    roomUUID,\n    privacyURL,\n    serviceURL,\n}: JoinPageMobileProps): React.ReactElement {\n    const t = useTranslate();\n\n    const url = useMemo(() => `x-agora-flat-client://joinRoom?roomUUID=${roomUUID}`, [roomUUID]);\n\n    const openApp = useCallback(() => {\n        window.location.href = url;\n    }, [url]);\n\n    const download = (): void => {\n        window.location.href = FLAT_DOWNLOAD_URL;\n    };\n\n    useEffect(() => {\n        openApp();\n    }, [openApp]);\n\n    return (\n        <div className=\"join-page-mobile-container\">\n            <iframe\n                height=\"0\"\n                src={url}\n                style={{ display: \"none\" }}\n                title={`join ${t(\"app-name\")}`}\n                width=\"0\"\n            />\n            <div className=\"join-page-mobile-effect\"></div>\n            <div className=\"join-page-mobile-header\">\n                <div className=\"join-page-mobile-app-icon\">\n                    <img alt=\"flat-logo\" src={logoSVG} />\n                </div>\n            </div>\n            <div className=\"join-page-mobile-big-btns\">\n                <button className=\"join-page-mobile-big-btn\" onClick={openApp}>\n                    {t(\"open\")} {t(\"app-name\")}\n                </button>\n                <button className=\"join-page-mobile-big-btn secondary\" onClick={download}>\n                    {t(\"download\")} {t(\"app-name\")}\n                </button>\n            </div>\n            <div className=\"join-page-mobile-footer\">\n                <a href={privacyURL} rel=\"noreferrer\" target=\"_blank\">\n                    {t(\"privacy-agreement\")}\n                </a>\n                <span>ï½œ</span>\n                <a href={serviceURL} rel=\"noreferrer\" target=\"_blank\">\n                    {t(\"service-policy\")}\n                </a>\n            </div>\n            {isWeChatBrowser && (\n                <div className=\"join-page-mobile-wechat-overlay\">\n                    <img alt=\"[open-in-browser]\" src={openInBrowserSVG} />\n                    <strong>{t(\"open-in-browser\")}</strong>\n                </div>\n            )}\n        </div>\n    );\n}\n","import \"./style.less\";\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useParams } from \"react-router-dom\";\nimport { useLanguage } from \"@netless/flat-i18n\";\nimport { useWindowSize } from \"react-use\";\n\nimport { RouteNameType, RouteParams, usePushHistory } from \"../utils/routes\";\nimport { GlobalStoreContext, PageStoreContext } from \"../components/StoreProvider\";\nimport { loginCheck } from \"@netless/flat-server-api\";\nimport { joinRoomHandler } from \"../utils/join-room-handler\";\nimport { PRIVACY_URL, PRIVACY_URL_CN, SERVICE_URL, SERVICE_URL_CN } from \"../constants/process\";\nimport JoinPageDesktop from \"./JoinPageDesktop\";\nimport JoinPageMobile from \"./JoinPageMobile\";\nimport { NEED_BINDING_PHONE } from \"../constants/config\";\n\nexport const JoinPage = observer(function JoinPage() {\n    const language = useLanguage();\n    const pushHistory = usePushHistory();\n    const globalStore = useContext(GlobalStoreContext);\n    const pageStore = useContext(PageStoreContext);\n    const [isLogin, setIsLogin] = useState(false);\n    const { width } = useWindowSize(1080);\n\n    const params = useParams<RouteParams<RouteNameType.ReplayPage>>();\n    const { roomUUID } = params;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => pageStore.configure(), []);\n\n    useEffect(() => {\n        async function checkLogin(): Promise<void> {\n            const token = globalStore.userInfo?.token;\n            if (token) {\n                try {\n                    const result = await loginCheck();\n                    setIsLogin(NEED_BINDING_PHONE ? result.hasPhone : true);\n                } catch (e) {\n                    console.error(e);\n                }\n            }\n        }\n\n        void checkLogin();\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    async function joinRoom(): Promise<void> {\n        if (isLogin && roomUUID) {\n            if (globalStore.isTurnOffDeviceTest || window.isElectron) {\n                await joinRoomHandler(roomUUID, pushHistory);\n            } else {\n                pushHistory(RouteNameType.DevicesTestPage, { roomUUID });\n            }\n        } else {\n            sessionStorage.setItem(\"roomUUID\", roomUUID);\n            pushHistory(RouteNameType.LoginPage);\n        }\n    }\n\n    const isMobile = width <= 480;\n\n    const privacyURL = language.startsWith(\"zh\") ? PRIVACY_URL_CN : PRIVACY_URL;\n    const serviceURL = language.startsWith(\"zh\") ? SERVICE_URL_CN : SERVICE_URL;\n\n    return (\n        <div>\n            {isMobile ? (\n                <JoinPageMobile\n                    privacyURL={privacyURL}\n                    roomUUID={roomUUID}\n                    serviceURL={serviceURL}\n                />\n            ) : (\n                <JoinPageDesktop\n                    avatar={globalStore.userInfo?.avatar ?? \"\"}\n                    isLogin={isLogin}\n                    joinRoom={joinRoom}\n                    privacyURL={privacyURL}\n                    roomUUID={roomUUID}\n                    serviceURL={serviceURL}\n                />\n            )}\n        </div>\n    );\n});\n\nexport default JoinPage;\n"],"names":["useEffectOnce","effect","useEffect","useEffectOnce$1","useUnmount","fn","fnRef","useRef","useUnmount$1","useRafState","initialState","frame","_a","useState","state","setState","setRafState","useCallback","value","useRafState$1","useWindowSize","initialWidth","initialHeight","isBrowser","handler_1","on","off","useWindowSize$1","NEED_BINDING_PHONE","logoSVG$1","downloadSVG","joinSVG","JoinPageDesktop","isLogin","avatar","roomUUID","privacyURL","serviceURL","joinRoom","t","useTranslate","pushHistory","usePushHistory","url","useMemo","_jsxDEV","display","_jsxFileName","logoSVG","Avatar","setItem","RouteNameType","LoginPage","Button","window","open","FLAT_DOWNLOAD_URL","openInBrowserSVG","isWeChatBrowser","navigator","userAgent","toLowerCase","includes","JoinPageMobile","openApp","location","href","download","JoinPage","observer","language","useLanguage","globalStore","useContext","GlobalStoreContext","pageStore","PageStoreContext","setIsLogin","width","params","useParams","configure","checkLogin","userInfo","token","result","loginCheck","hasPhone","e","console","error","isTurnOffDeviceTest","isElectron","joinRoomHandler","DevicesTestPage","isMobile","startsWith","PRIVACY_URL_CN","PRIVACY_URL","SERVICE_URL_CN","SERVICE_URL"],"mappings":"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"}