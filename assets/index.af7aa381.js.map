{"version":3,"file":"index.af7aa381.js","sources":["../../../../packages/flat-components/src/components/RemoveRoomModal/index.tsx"],"sourcesContent":["import \"./style.less\";\n\nimport { Button, Checkbox, Modal } from \"antd\";\nimport React, { useState } from \"react\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface RemoveRoomModalProps {\n    cancelModalVisible: boolean;\n    isCreator: boolean;\n    roomUUID?: string;\n    periodicUUID?: string;\n    isPeriodicDetailsPage: boolean;\n    onCancel: () => void;\n    onCancelRoom: (all: boolean) => void;\n}\n\nexport const RemoveRoomModal: React.FC<RemoveRoomModalProps> = ({\n    cancelModalVisible,\n    isCreator,\n    roomUUID,\n    periodicUUID,\n    isPeriodicDetailsPage,\n    onCancel,\n    onCancelRoom,\n}) => {\n    const t = useTranslate();\n    const [isCancelAll, setIsCancelAll] = useState(false);\n    const isPeriodicRoom = !!periodicUUID && !roomUUID;\n    const isSubPeriodicRoom = periodicUUID && roomUUID;\n\n    const title = (() => {\n        if (!isCreator) {\n            return t(\"remove-room\");\n        }\n\n        if (isPeriodicRoom && isPeriodicDetailsPage) {\n            return t(\"cancel-of-periodic-rooms\");\n        }\n\n        return t(\"cancel-room\");\n    })();\n\n    const content = (): React.ReactElement => {\n        if (!periodicUUID) {\n            if (isCreator) {\n                return <span>{t(\"cancel-general-room-tips\")}</span>;\n            }\n\n            return <span>{t(\"remove-general-room-tips\")}</span>;\n        }\n\n        if (!isCreator) {\n            return <span>{t(\"remove-series-of-periodic-room-tips\")}</span>;\n        }\n\n        if (!isPeriodicDetailsPage) {\n            return (\n                <>\n                    <span>{t(\"cancel-periodic-room-tips\")}</span>\n                    <br />\n                    <br />\n                    <Checkbox\n                        checked={isCancelAll}\n                        onChange={e => setIsCancelAll(e.target.checked)}\n                    >\n                        {t(\"also-cancel-the-series-of-periodic-rooms\")}\n                    </Checkbox>\n                </>\n            );\n        }\n\n        if (isSubPeriodicRoom) {\n            return <span>{t(\"cancel-sub-periodic-room-tips\")}</span>;\n        }\n\n        return <span>{t(\"cancel-periodic-room-tips\")}</span>;\n    };\n\n    return (\n        <Modal\n            footer={[\n                <Button key=\"Cancel\" onClick={onCancel}>\n                    {isCreator ? t(\"think-again\") : t(\"cancel\")}\n                </Button>,\n                <Button\n                    key=\"Ok\"\n                    type=\"primary\"\n                    onClick={() => onCancelRoom(isCancelAll || isPeriodicRoom)}\n                >\n                    {t(\"confirm\")}\n                </Button>,\n            ]}\n            open={cancelModalVisible}\n            title={title}\n            wrapClassName=\"remove-room-modal-container\"\n            onCancel={onCancel}\n        >\n            {content()}\n        </Modal>\n    );\n};\n"],"names":["RemoveRoomModal","cancelModalVisible","isCreator","roomUUID","periodicUUID","isPeriodicDetailsPage","onCancel","onCancelRoom","t","useTranslate","isCancelAll","setIsCancelAll","useState","isPeriodicRoom","isSubPeriodicRoom","title","content","_jsxFileName","_Fragment","_jsxDEV","Checkbox","e","target","checked","Modal","Button"],"mappings":"8LAgBO,MAAMA,EAAkD,CAAC,CAC5DC,mBAAAA,EACAC,UAAAA,EACAC,SAAAA,EACAC,aAAAA,EACAC,sBAAAA,EACAC,SAAAA,EACAC,aAAAA,CAP4D,IAQ1D,CACF,MAAMC,EAAIC,IACJ,CAACC,EAAaC,CAAd,EAAgCC,mBAAS,EAAD,EACxCC,EAAiB,CAAC,CAACT,GAAgB,CAACD,EACpCW,EAAoBV,GAAgBD,EAEpCY,GAAS,IAMAP,EALNN,EAIDW,GAAkBR,EACT,2BAGJ,cAPI,aAID,KAMVW,EAAU,IACPZ,EAQAF,EAIAG,EAgBDS,IACO,OAAA,CAAA,SAAON,EAAE,+BAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAP,MAAA,IAGG,OAAA,CAAA,SAAOT,EAAE,2BAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAP,MAAA,IAlBQC,EAAA,CAAA,SACI,CAAAC,EAAA,OAAA,CAAA,SAAOX,EAAE,2BAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAA,MAAA,EACAE,EAAA,KAAA,GAAA,OAAA,GAAA,CAAA,SAAAF,EAAA,WAAA,GAAA,aAAA,EAAA,EAAA,MAAA,EACAE,EAAA,KAAA,GAAA,OAAA,GAAA,CAAA,SAAAF,EAAA,WAAA,GAAA,aAAA,EAHJ,EAAA,MAAA,EAIIE,EAACC,EAAD,CACI,QAASV,EACT,SAAUW,GAAKV,EAAeU,EAAEC,OAAOC,OAAV,EAFjC,SAIKf,EAAE,0CAAD,CAAA,EAJN,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAJJ,MAAA,CAAA,CAAA,EADJ,OAAA,EAAA,IAJO,OAAA,CAAA,SAAOT,EAAE,qCAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAP,MAAA,EARIf,IACO,OAAA,CAAA,SAAOM,EAAE,0BAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAP,MAAA,IAGG,OAAA,CAAA,SAAOT,EAAE,0BAAD,CAAA,EAAR,OAAA,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAP,MAAA,EA8BR,SACKO,EAAD,CACI,OAAQ,CACJL,EAACM,EAAD,CAAqB,QAASnB,EAA9B,SACiBE,EAAZN,EAAc,cAAmB,QAApB,CAAmB,EADzB,SAAZ,GAAA,CAAA,SAAAe,EAAA,WAAA,GAAA,aAAA,EADI,EAAA,MAAA,EAIJE,EAACM,EAAD,CAEI,KAAK,UACL,QAAS,IAAMlB,EAAaG,GAAeG,CAAhB,EAH/B,SAKKL,EAAE,SAAD,CAAA,EAJE,KADR,GAAA,CAAA,SAAAS,EAAA,WAAA,GAAA,aAAA,EAAA,EAAA,MAAA,CAJI,EAYR,KAAMhB,EACN,MAAAc,EACA,cAAc,8BACd,SAAAT,EAhBJ,SAkBKU,EAAO,CAAA,EAlBZ,OAAA,GAAA,CAAA,SAAAC,EAAA,WAAA,GAAA,aAAA,CAAA,EADJ,MAAA,CAsBH"}