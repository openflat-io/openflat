import{aT as c,F as u,aU as p,aV as o}from"./index.ec641b5a.js";import{q as y}from"./courseware-converting.24396c0e.js";import{q as U}from"./courseware-converting.24396c0e.js";import{i as m}from"./utils.bf5d20e7.js";import{g as F,i as q}from"./utils.bf5d20e7.js";class C{async startConvert(r){try{const e=await c({fileUUID:r.fileUUID}),{resourceType:t,whiteboardProjector:s,whiteboardConvert:i}=e;if(s){const{taskUUID:a,taskToken:n}=s;return{taskUUID:a,taskToken:n,resourceType:t}}if(i){const{taskUUID:a,taskToken:n}=i;return{taskUUID:a,taskToken:n,resourceType:t}}}catch(e){console.error(e)}}async queryStatus(r){if(r.resourceType===u.WhiteboardConvert||r.resourceType===u.WhiteboardProjector){const e=await y({dynamic:m(r.fileName),resourceType:r.resourceType,meta:r.meta});if(e.status==="Fail"){let t;if(typeof e.errorCode=="number"){const s=new p(e.errorCode);s.errorMessage=e.errorMessage||"",t=s}else t=new Error(e.errorMessage);return{status:o.Failed,error:t}}return e.status==="Finished"?{status:o.Done}:{status:o.Converting}}return{status:o.None}}}export{C as FileConvertNetless,F as getFileExt,q as isPPTX,U as queryConvertingTaskStatus};
//# sourceMappingURL=index.95e66ea7.js.map
