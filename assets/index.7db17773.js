import{q as e,a$ as te,aE as Le,l as u,b0 as Ee,a4 as De,m as He,b1 as Re,ad as Ae,b2 as H,b3 as Pe,b4 as Se,b5 as R,b6 as _e,aA as $,ae as G,J as A,b7 as Ue,v as he,b8 as ze,b9 as fe,ba as Be,bb as We,bc as Te,bd as Ve,be as Oe,bf as K,bg as je,bh as Ie,bi as $e,bj as Ge}from"./index.ec641b5a.js";import{s as Ne,e as q,l as qe,u as Qe,a as Ye,b as Je,c as Xe,d as Ke,f as ei,g as ii}from"./routes.96a891de.js";import{g as li,W as ti}from"./WeChatLogin.29b6893b.js";import{j as ni}from"./join-room-handler.09766337.js";import{u as oi}from"./lifecycle.f56c70c9.js";import{s as ai}from"./use-login-check.7d6be6b3.js";import{A as ri}from"./index.7e684ce5.js";import{T as ue,C as si}from"./CSSTransition.2eb23181.js";var t="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/icons/Cover.tsx";function mi(){return e("svg",{fill:"none",viewBox:"0 0 480 640",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M0 0h480v640H0z",fill:"#D6E5FF",id:"a"},void 0,!1,{fileName:t,lineNumber:6,columnNumber:13},this),e("mask",{height:"640",id:"b",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},width:"480",x:"0",y:"0",children:e("path",{d:"M0 0h480v640H0z",fill:"#D6E5FF",id:"a"},void 0,!1,{fileName:t,lineNumber:16,columnNumber:17},this)},void 0,!1,{fileName:t,lineNumber:7,columnNumber:13},this),e("g",{mask:"url(#b)",children:[e("path",{d:"M296 198h100v120H296z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:19,columnNumber:17},this),e("path",{d:"M300.5 202.5h91v111h-91z",stroke:"#D6E5FF"},void 0,!1,{fileName:t,lineNumber:20,columnNumber:17},this),e("path",{d:"M12 348h275v5H12z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:21,columnNumber:17},this),e("path",{d:"M48 134c0-22.091 17.909-40 40-40h123c22.091 0 40 17.909 40 40v214H48V134Z",fill:"#F4F8FF"},void 0,!1,{fileName:t,lineNumber:22,columnNumber:17},this),e("path",{d:"M240 190H115s.5-4 7-10 21-8 21-8 8-13 32.5-13 24.5 14 24.5 14 20.5-3.5 31.5 3.5S240 190 240 190Zm-53 51H62s.5-4 7-10 21-8 21-8 8-13 32.5-13 24.5 14 24.5 14 20.5-3.5 31.5 3.5S187 241 187 241Z",fill:"#EBF2FF"},void 0,!1,{fileName:t,lineNumber:26,columnNumber:17},this),e("path",{d:"M48 297h203v1H48zm0-51h203v1H48zm0-51h203v1H48zm0-51h203v1H48z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:30,columnNumber:17},this),e("path",{d:"M98 94h1v254h-1zm102 0h1v254h-1zm-51 0h1v254h-1zM0 560h480v80H0z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:34,columnNumber:17},this),e("path",{d:"M457 638V158c0-22.091-17.908-40-40-40-22.091 0-40 17.909-40 40v28",stroke:"#2867CC",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:38,columnNumber:17},this),e("path",{d:"M726.942 526H27.059l336.023-336.023h27.836L726.942 526Z",fill:"url(#c)"},void 0,!1,{fileName:t,lineNumber:43,columnNumber:17},this),e("circle",{cx:"377",cy:"209.86",fill:"#F4F8FF",r:"19.883"},void 0,!1,{fileName:t,lineNumber:44,columnNumber:17},this),e("path",{d:"M363.082 189.977h27.836L420.743 216v3.801h-87.486V216l29.825-26.023Z",fill:"#3381FF"},void 0,!1,{fileName:t,lineNumber:45,columnNumber:17},this),e("path",{d:"M373.024 186h7.953v3.977h-7.953z",fill:"#2867CC"},void 0,!1,{fileName:t,lineNumber:49,columnNumber:17},this),e("path",{d:"M40 454h400v5H40z",fill:"#5B9AFF"},void 0,!1,{fileName:t,lineNumber:50,columnNumber:17},this),e("path",{d:"M100 459 60 580",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:51,columnNumber:17},this),e("path",{d:"m115 580 20-60.5m4 60.5 20-60.5",stroke:"#3381FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:52,columnNumber:17},this),e("path",{d:"m380 459 40 121",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:53,columnNumber:17},this),e("path",{d:"m231 580-20-60.5",stroke:"#3381FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:54,columnNumber:17},this),e("path",{d:"M112.805 427.661c-.972-11.66 8.23-21.661 19.931-21.661h10.12c10.294 0 18.906 7.813 19.906 18.058L171 508.5h42.5c9.665 0 17.5 7.835 17.5 17.5h-91.597c-10.402 0-19.067-7.973-19.931-18.339l-6.667-80Z",fill:"#3381FF"},void 0,!1,{fileName:t,lineNumber:55,columnNumber:17},this),e("path",{d:"M284.509 379.434a4.001 4.001 0 0 1 3.96-3.434h81.919a4 4 0 0 1 3.96 4.566L365 446h-90l9.509-66.566Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:59,columnNumber:17},this),e("path",{d:"M289 380h82l-10 62h-82l10-62Z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:63,columnNumber:17},this),e("path",{d:"M317 401a4 4 0 0 1 4-4h20v4a4 4 0 0 1-4 4h-16a4 4 0 0 1-4-4Zm-4 10a4 4 0 0 1 4-4h12v4a4 4 0 0 1-4 4h-8a4 4 0 0 1-4-4Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:64,columnNumber:17},this),e("rect",{fill:"#84B3FF",height:"8",rx:"4",width:"8",x:"309",y:"417"},void 0,!1,{fileName:t,lineNumber:68,columnNumber:17},this),e("path",{d:"M235 446h130v4a4 4 0 0 1-4 4H239a4 4 0 0 1-4-4v-4Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:69,columnNumber:17},this),e("path",{d:"M401.072 409.744a2 2 0 0 1 3.939.694l-2.431 13.788-3.939-.695 2.431-13.787Z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:70,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"m394.213 403.577-3.939.694.412 2.339-1.969.348-.616.108.109.616 2.605 14.772.108.615.616-.108 1.969-.348.239 1.354 3.939-.694-3.473-19.696Zm-.922 17.805-2.388-13.541-1.354.239 2.388 13.541 1.354-.239Z",fill:"#ADCCFF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:74,columnNumber:17},this),e("path",{d:"M385 422h24v32h-24z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:80,columnNumber:17},this),e("path",{d:"M68 328.625h1.5v-1.25H68v1.25Zm6.5-5h7v-1.25h-7v1.25Zm12 5H88v-1.25h-1.5v1.25Zm-3.125-3.125c0 1.726 1.4 3.125 3.125 3.125v-1.25a1.875 1.875 0 0 1-1.875-1.875h-1.25Zm-1.875-1.875c1.035 0 1.875.839 1.875 1.875h1.25c0-1.726-1.4-3.125-3.125-3.125v1.25Zm-8.875 1.875c0-1.036.84-1.875 1.875-1.875v-1.25a3.125 3.125 0 0 0-3.125 3.125h1.25Zm-3.125 3.125a3.125 3.125 0 0 0 3.125-3.125h-1.25c0 1.036-.84 1.875-1.875 1.875v1.25Z",fill:"#5B9AFF"},void 0,!1,{fileName:t,lineNumber:81,columnNumber:17},this),e("path",{d:"m28 328-16-16",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:85,columnNumber:17},this),e("circle",{cx:"48",cy:"328",r:"19.375",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:86,columnNumber:17},this),e("circle",{cx:"108",cy:"328",r:"19.375",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:87,columnNumber:17},this),e("path",{d:"m128 328-16-16",stroke:"#5B9AFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:88,columnNumber:17},this),e("path",{d:"M405 345.865h24v32h-24z",fill:"#ADCCFF"},void 0,!1,{fileName:t,lineNumber:89,columnNumber:17},this),e("path",{d:"m412 342.071 7.727-2.071 2.589 9.659-7.728 2.071-2.588-9.659Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:90,columnNumber:17},this),e("circle",{cx:"316",cy:"94",fill:"#D6E5FF",r:"34.5",stroke:"#84B3FF",strokeLinejoin:"round",strokeWidth:"3"},void 0,!1,{fileName:t,lineNumber:94,columnNumber:17},this),e("path",{d:"M316 80v14l12 12",stroke:"#84B3FF",strokeLinejoin:"round",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:103,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M351 560h-65c0-2.437.581-4.739 1.613-6.774L284 546l7.406 2.469a14.931 14.931 0 0 1 8.442-3.425L303 540l1.831 5.494c.225.059.448.123.669.193C310.02 539.226 317.517 535 326 535c13.807 0 25 11.193 25 25Z",fill:"#84B3FF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:109,columnNumber:17},this),e("path",{d:"m306 554 10-5m-10 7 7 1",stroke:"#5B9AFF"},void 0,!1,{fileName:t,lineNumber:115,columnNumber:17},this),e("path",{d:"m289 555-9-2m8 4-6 1",stroke:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:116,columnNumber:17},this),e("path",{d:"M49 450a4 4 0 0 1 4-4h36v8H53a4 4 0 0 1-4-4Zm3-16a4 4 0 0 1 4-4h31v8H56a4 4 0 0 1-4-4Zm35 8a4 4 0 0 0-4-4H57v8h26a4 4 0 0 0 4-4Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:117,columnNumber:17},this),e("path",{d:"M51 450a2 2 0 0 1 2-2h36v4H53a2 2 0 0 1-2-2Zm3-16a2 2 0 0 1 2-2h31v4H56a2 2 0 0 1-2-2Zm31 8a2 2 0 0 0-2-2H57v4h26a2 2 0 0 0 2-2Z",fill:"#fff"},void 0,!1,{fileName:t,lineNumber:121,columnNumber:17},this),e("path",{d:"M197 438h20v12a4 4 0 0 1-4 4h-12a4 4 0 0 1-4-4v-12Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:125,columnNumber:17},this),e("path",{d:"M217 442h2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",stroke:"#84B3FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:126,columnNumber:17},this),e("path",{d:"M203.055 390h8s-4.607 9.588-4 12c1.704 6.775 8 5.014 8 12s-7.342 5.045-8 12c-.607 6.412 4 12 4 12h-8s-4.607-5.588-4-12c.658-6.955 8-5.014 8-12s-6.296-5.225-8-12c-.607-2.412 4-12 4-12Z",fill:"url(#d)"},void 0,!1,{fileName:t,lineNumber:131,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M201.357 292.357c-10.008 2.673-21.13.083-28.982-7.769-7.852-7.851-10.441-18.973-7.768-28.981 10.008-2.673 21.13-.084 28.982 7.768 7.851 7.852 10.441 18.974 7.768 28.982Z",fill:"#D6E5FF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:135,columnNumber:17},this),e("path",{d:"M200.5 291.5V324",stroke:"#D6E5FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:141,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M195.839 317c-2.227-8.341-.069-17.608 6.474-24.152 6.543-6.543 15.811-8.701 24.151-6.474 2.228 8.341.07 17.609-6.474 24.152-6.543 6.543-15.811 8.701-24.151 6.474Z",fill:"#D6E5FF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:142,columnNumber:17},this),e("path",{d:"M197 316v8",stroke:"#D6E5FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:148,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M190.571 318.571c-6.672 1.782-14.086.056-19.321-5.179-5.234-5.234-6.961-12.649-5.179-19.321 6.672-1.782 14.087-.055 19.321 5.179 5.235 5.235 6.961 12.649 5.179 19.321Z",fill:"#D6E5FF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:149,columnNumber:17},this),e("path",{d:"M189.5 317.5v6.5",stroke:"#D6E5FF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:155,columnNumber:17},this),e("path",{d:"M171 324h48v12c0 6.627-5.373 12-12 12h-24c-6.627 0-12-5.373-12-12v-12Z",fill:"#84B3FF"},void 0,!1,{fileName:t,lineNumber:156,columnNumber:17},this),e("path",{d:"M171 332h48",stroke:"#ADCCFF",strokeWidth:"1.25"},void 0,!1,{fileName:t,lineNumber:160,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M40 420H0v120h10l5 20h5v-20h20V420Z",fill:"#ADCCFF",fillRule:"evenodd"},void 0,!1,{fileName:t,lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:t,lineNumber:18,columnNumber:13},this),e("defs",{children:[e("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"377",x2:"377",y1:"176.058",y2:"526",children:[e("stop",{stopColor:"#fff",stopOpacity:".1"},void 0,!1,{fileName:t,lineNumber:177,columnNumber:21},this),e("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"},void 0,!1,{fileName:t,lineNumber:178,columnNumber:21},this)]},void 0,!0,{fileName:t,lineNumber:169,columnNumber:17},this),e("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"209.028",x2:"209.028",y1:"374",y2:"438",children:[e("stop",{stopColor:"#fff",stopOpacity:"0"},void 0,!1,{fileName:t,lineNumber:188,columnNumber:21},this),e("stop",{offset:"1",stopColor:"#fff",stopOpacity:".35"},void 0,!1,{fileName:t,lineNumber:189,columnNumber:21},this)]},void 0,!0,{fileName:t,lineNumber:180,columnNumber:17},this)]},void 0,!0,{fileName:t,lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:t,lineNumber:5,columnNumber:9},this)}var o="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/icons/CoverDark.tsx";function ui(){return e("svg",{fill:"none",viewBox:"0 0 480 640",xmlns:"http://www.w3.org/2000/svg",children:[e("defs",{children:e("path",{d:"M0 0h480v640H0z",fill:"#143366",id:"a"},void 0,!1,{fileName:o,lineNumber:7,columnNumber:17},this)},void 0,!1,{fileName:o,lineNumber:6,columnNumber:13},this),e("use",{xlinkHref:"#a"},void 0,!1,{fileName:o,lineNumber:9,columnNumber:13},this),e("mask",{height:"640",id:"b",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"},width:"480",x:"0",y:"0",children:e("use",{xlinkHref:"#a"},void 0,!1,{fileName:o,lineNumber:19,columnNumber:17},this)},void 0,!1,{fileName:o,lineNumber:10,columnNumber:13},this),e("g",{mask:"url(#b)",children:[e("path",{d:"M296 198h100v120H296z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:22,columnNumber:17},this),e("path",{d:"M300.5 202.5h91v111h-91z",stroke:"#143366"},void 0,!1,{fileName:o,lineNumber:23,columnNumber:17},this),e("path",{d:"M12 348h275v5H12zm36-214c0-22.091 17.909-40 40-40h123c22.091 0 40 17.909 40 40v214H48V134Z",fill:"#0A1933"},void 0,!1,{fileName:o,lineNumber:24,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M133.16 202.161A27.87 27.87 0 0 1 119 206c-15.464 0-28-12.536-28-28 0-5.166 1.4-10.006 3.84-14.161C86.558 168.703 81 177.702 81 188c0 15.464 12.536 28 28 28 10.298 0 19.297-5.559 24.16-13.839Z",fill:"#F5D599",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:28,columnNumber:17},this),e("path",{d:"M240 190H115s.5-4 7-10 21-8 21-8 8-13 32.5-13 24.5 14 24.5 14 20.5-3.5 31.5 3.5S240 190 240 190Zm-53 51H62s.5-4 7-10 21-8 21-8 8-13 32.5-13 24.5 14 24.5 14 20.5-3.5 31.5 3.5S187 241 187 241Z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:34,columnNumber:17},this),e("path",{d:"M48 297h203v1H48zm0-51h203v1H48zm0-51h203v1H48zm0-51h203v1H48z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:38,columnNumber:17},this),e("path",{d:"M98 94h1v254h-1zm102 0h1v254h-1zm-51 0h1v254h-1z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:42,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M201.357 292.357c-10.008 2.673-21.13.083-28.982-7.769-7.852-7.851-10.441-18.973-7.768-28.981 10.008-2.673 21.13-.084 28.982 7.768 7.851 7.852 10.441 18.974 7.768 28.982Z",fill:"#143366",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:43,columnNumber:17},this),e("path",{d:"M200.5 291.5V324",stroke:"#143366",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:49,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M195.839 317c-2.227-8.341-.069-17.608 6.474-24.152 6.543-6.543 15.811-8.701 24.151-6.474 2.228 8.341.07 17.609-6.473 24.152-6.544 6.543-15.812 8.701-24.152 6.474Z",fill:"#143366",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:50,columnNumber:17},this),e("path",{d:"M197 316v8",stroke:"#143366",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:56,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M190.571 318.571c-6.672 1.782-14.086.056-19.321-5.179-5.234-5.234-6.961-12.649-5.179-19.321 6.672-1.782 14.087-.055 19.321 5.179 5.235 5.235 6.961 12.649 5.179 19.321Z",fill:"#143366",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:57,columnNumber:17},this),e("path",{d:"M189.5 317.5v6.5",stroke:"#143366",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:63,columnNumber:17},this),e("path",{d:"M171 324h48v12c0 6.627-5.373 12-12 12h-24c-6.627 0-12-5.373-12-12v-12Z",fill:"#143366"},void 0,!1,{fileName:o,lineNumber:64,columnNumber:17},this),e("path",{d:"M171 332h48",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:68,columnNumber:17},this),e("path",{d:"M0 560h480v80H0z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:69,columnNumber:17},this),e("path",{d:"M457 638V158c0-22.091-17.909-40-40-40s-40 17.909-40 40v28",stroke:"#2867CC",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:70,columnNumber:17},this),e("path",{d:"M726.942 526H27.059l336.023-336.023h27.836L726.942 526Z",fill:"url(#c)"},void 0,!1,{fileName:o,lineNumber:75,columnNumber:17},this),e("circle",{cx:"377",cy:"209.86",fill:"#FCF4E6",r:"19.883"},void 0,!1,{fileName:o,lineNumber:76,columnNumber:17},this),e("path",{d:"M363.082 189.977h27.836L420.743 216v3.801h-87.486V216l29.825-26.023Z",fill:"#3381FF"},void 0,!1,{fileName:o,lineNumber:77,columnNumber:17},this),e("path",{d:"M373.023 186h7.953v3.977h-7.953zM40 454h400v5H40z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:81,columnNumber:17},this),e("path",{d:"M100 459 60 580m55 0 20-60.5m4 60.5 20-60.5M380 459l40 121m-189 0-20-60.5",stroke:"#2867CC",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:82,columnNumber:17},this),e("path",{d:"M112.805 427.661c-.972-11.66 8.23-21.661 19.931-21.661h10.12c10.294 0 18.906 7.813 19.906 18.058L171 508.5h42.5c9.665 0 17.5 7.835 17.5 17.5h-91.597c-10.402 0-19.067-7.973-19.931-18.339l-6.667-80Z",fill:"#3381FF"},void 0,!1,{fileName:o,lineNumber:87,columnNumber:17},this),e("path",{d:"M284.509 379.434a4.001 4.001 0 0 1 3.96-3.434h81.919a4 4 0 0 1 3.96 4.566L365 446h-90l9.509-66.566Z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:91,columnNumber:17},this),e("path",{d:"M289 380h82l-10 62h-82l10-62Z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:95,columnNumber:17},this),e("path",{d:"M235 446h130v4a4 4 0 0 1-4 4H239a4 4 0 0 1-4-4v-4Zm82-45a4 4 0 0 1 4-4h20v4a4 4 0 0 1-4 4h-16a4 4 0 0 1-4-4Zm-4 10a4 4 0 0 1 4-4h12v4a4 4 0 0 1-4 4h-8a4 4 0 0 1-4-4Z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:96,columnNumber:17},this),e("rect",{fill:"#1E4D99",height:"8",rx:"4",width:"8",x:"309",y:"417"},void 0,!1,{fileName:o,lineNumber:100,columnNumber:17},this),e("path",{d:"M401.072 409.744a2.001 2.001 0 0 1 3.939.694l-2.431 13.788-3.939-.695 2.431-13.787Z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:101,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"m394.213 403.577-3.939.694.412 2.339-1.969.347-.616.109.109.616 2.605 14.772.108.615.616-.108 1.969-.348.239 1.354 3.939-.694-3.473-19.696Zm-.922 17.805-2.387-13.541-1.355.239 2.388 13.541 1.354-.239Z",fill:"#2867CC",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:105,columnNumber:17},this),e("path",{d:"M385 422h24v32h-24zM68 328.625h1.5v-1.25H68v1.25Zm6.5-5h7v-1.25h-7v1.25Zm12 5H88v-1.25h-1.5v1.25Zm-3.125-3.125c0 1.726 1.4 3.125 3.125 3.125v-1.25a1.875 1.875 0 0 1-1.875-1.875h-1.25Zm-1.875-1.875c1.035 0 1.875.839 1.875 1.875h1.25c0-1.726-1.4-3.125-3.125-3.125v1.25Zm-8.875 1.875c0-1.036.84-1.875 1.875-1.875v-1.25a3.125 3.125 0 0 0-3.125 3.125h1.25Zm-3.125 3.125a3.125 3.125 0 0 0 3.125-3.125h-1.25c0 1.036-.84 1.875-1.875 1.875v1.25Z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:111,columnNumber:17},this),e("path",{d:"m28 328-16-16",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:115,columnNumber:17},this),e("circle",{cx:"48",cy:"328",r:"19.375",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:116,columnNumber:17},this),e("circle",{cx:"108",cy:"328",r:"19.375",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:117,columnNumber:17},this),e("path",{d:"m128 328-16-16",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:118,columnNumber:17},this),e("path",{d:"M405 345.865h24v32h-24z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:119,columnNumber:17},this),e("path",{d:"m412 342.071 7.727-2.071 2.589 9.659-7.728 2.071-2.588-9.659Z",fill:"#2867CC"},void 0,!1,{fileName:o,lineNumber:120,columnNumber:17},this),e("circle",{cx:"316",cy:"94",fill:"#143366",r:"34.5",stroke:"#0A1933",strokeLinejoin:"round",strokeWidth:"3"},void 0,!1,{fileName:o,lineNumber:124,columnNumber:17},this),e("path",{d:"m304 106 12-12h19.5",stroke:"#0A1933",strokeLinejoin:"round",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:133,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M351 560h-65c0-2.437.581-4.739 1.613-6.774L284 546l7.406 2.469a14.931 14.931 0 0 1 8.442-3.425L303 540l1.831 5.494c.225.059.448.123.669.193C310.02 539.226 317.517 535 326 535c13.807 0 25 11.193 25 25Z",fill:"#2867CC",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:139,columnNumber:17},this),e("path",{d:"m306 554 10-5m-10 7 7 1",stroke:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:145,columnNumber:17},this),e("path",{d:"m289 555-9-2m8 4-6 1",stroke:"#2867CC"},void 0,!1,{fileName:o,lineNumber:146,columnNumber:17},this),e("path",{d:"M49 450a4 4 0 0 1 4-4h36v8H53a4 4 0 0 1-4-4Zm3-16a4 4 0 0 1 4-4h31v8H56a4 4 0 0 1-4-4Zm35 8a4 4 0 0 0-4-4H57v8h26a4 4 0 0 0 4-4Z",fill:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:147,columnNumber:17},this),e("path",{d:"M51 450a2 2 0 0 1 2-2h36v4H53a2 2 0 0 1-2-2Zm3-16a2 2 0 0 1 2-2h31v4H56a2 2 0 0 1-2-2Zm31 8a2 2 0 0 0-2-2H57v4h26a2 2 0 0 0 2-2Z",fill:"#5B9AFF"},void 0,!1,{fileName:o,lineNumber:151,columnNumber:17},this),e("path",{d:"M197.5 438.5h19V450a3.5 3.5 0 0 1-3.5 3.5h-12a3.5 3.5 0 0 1-3.5-3.5v-11.5Z",fill:"#1E4D99",stroke:"#1E4D99"},void 0,!1,{fileName:o,lineNumber:155,columnNumber:17},this),e("path",{d:"M217 442h2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",stroke:"#1E4D99",strokeWidth:"1.25"},void 0,!1,{fileName:o,lineNumber:160,columnNumber:17},this),e("path",{clipRule:"evenodd",d:"M40 420H0v120h10l5 20h5v-20h20V420Z",fill:"#0A1933",fillRule:"evenodd"},void 0,!1,{fileName:o,lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:o,lineNumber:21,columnNumber:13},this),e("defs",{children:e("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"377",x2:"377",y1:"176.058",y2:"526",children:[e("stop",{stopColor:"#FCF4E6",stopOpacity:".2"},void 0,!1,{fileName:o,lineNumber:181,columnNumber:21},this),e("stop",{offset:"1",stopColor:"#FCF4E6",stopOpacity:"0"},void 0,!1,{fileName:o,lineNumber:182,columnNumber:21},this)]},void 0,!0,{fileName:o,lineNumber:173,columnNumber:17},this)},void 0,!1,{fileName:o,lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:o,lineNumber:5,columnNumber:9},this)}const be="data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath opacity='.01' fill='white' d='M0 0h24v24H0z'/%3e%3cpath d='m5 6 6.45-1.843a2 2 0 0 1 1.1 0L19 6v7a7 7 0 1 1-14 0V6Z' stroke='%235D6066' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='m8 11.5 3 3 5-5' stroke='%235D6066' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e";var ee="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginTitle/index.tsx";const ve=({title:i,subtitle:l})=>{const n=te();return e("div",{className:"login-title",children:[e("h2",{className:"login-title-text",children:i||n("app-welcome")},void 0,!1,{fileName:ee,lineNumber:16,columnNumber:13},void 0),e("p",{className:"login-title-subtext",children:l||n("online-interaction-to-synchronize-ideas")},void 0,!1,{fileName:ee,lineNumber:17,columnNumber:13},void 0)]},void 0,!0,{fileName:ee,lineNumber:15,columnNumber:9},void 0)};var V="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginAgreement/index.tsx";const ci=({checked:i,onChange:l,privacyURL:n,serviceURL:m})=>{const a=te();return e("div",{className:"login-agreement",children:e(Le,{checked:i,onChange:r=>l(r.target.checked),children:[a("have-read-and-agree")," ",e("a",{href:n,rel:"noreferrer",target:"_blank",children:a("privacy-agreement")},void 0,!1,{fileName:V,lineNumber:26,columnNumber:17},void 0)," ",a("and")," ",e("a",{href:m,rel:"noreferrer",target:"_blank",children:a("service-policy")},void 0,!1,{fileName:V,lineNumber:30,columnNumber:17},void 0)]},void 0,!0,{fileName:V,lineNumber:24,columnNumber:13},void 0)},void 0,!1,{fileName:V,lineNumber:23,columnNumber:9},void 0)},di="data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M15.537 8.84c.23 0 .457.017.684.042C15.61 6.08 12.56 4 9.08 4 5.187 4 2 6.603 2 9.911c0 1.91 1.06 3.477 2.832 4.694l-.707 2.09L6.6 15.479c.885.17 1.595.347 2.479.347.222 0 .442-.01.66-.025a5.124 5.124 0 0 1-.219-1.459c.001-3.036 2.656-5.501 6.018-5.501Zm-3.805-1.884c.536 0 .887.345.887.868 0 .52-.351.869-.886.869-.53 0-1.062-.349-1.062-.87 0-.524.532-.867 1.062-.867ZM6.78 8.693c-.532 0-1.066-.349-1.066-.87 0-.522.534-.867 1.066-.867.531 0 .883.343.883.868 0 .52-.352.869-.883.869ZM22 14.258c0-2.78-2.832-5.044-6.014-5.044-3.369 0-6.02 2.266-6.02 5.044 0 2.786 2.653 5.044 6.02 5.044.705 0 1.416-.173 2.124-.348L20.051 20l-.532-1.738C20.94 17.214 22 15.825 22 14.258Zm-7.966-.87c-.352 0-.708-.344-.708-.695 0-.346.356-.695.708-.695.537 0 .886.349.886.695 0 .351-.349.695-.886.695Zm3.893 0c-.348 0-.703-.344-.703-.695 0-.346.354-.695.703-.695.533 0 .887.349.887.695 0 .351-.354.695-.887.695Z' fill='white'/%3e%3c/svg%3e",hi="data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m17.135 5.584-.063.088-.067.093-.092-.07-.086-.065A7.923 7.923 0 0 0 12 4.005c-4.411 0-8 3.587-8 7.995 0 4.408 3.589 7.995 8 7.995a7.922 7.922 0 0 0 4.826-1.625l.087-.065.091-.07.068.093.064.088a3.833 3.833 0 0 0 2.567 1.543L20 20V4l-.297.04a3.833 3.833 0 0 0-2.568 1.544M12 16.408A4.415 4.415 0 0 1 7.589 12a4.415 4.415 0 0 1 4.41-4.408A4.415 4.415 0 0 1 16.412 12 4.415 4.415 0 0 1 12 16.408' fill='white' fill-rule='evenodd'/%3e%3c/svg%3e",fi="data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 12.235c0-1.251.237-2.448.712-3.59.474-1.142 1.113-2.125 1.916-2.95A9.005 9.005 0 0 1 8.502 3.73 8.636 8.636 0 0 1 12 3c1.219 0 2.385.243 3.498.73a8.986 8.986 0 0 1 2.874 1.967c.803.823 1.442 1.806 1.916 2.95A9.265 9.265 0 0 1 21 12.233c0 2.008-.571 3.815-1.714 5.42-1.142 1.606-2.61 2.721-4.403 3.346-.094 0-.164-.018-.21-.054-.048-.035-.075-.072-.08-.108a1.1 1.1 0 0 1-.01-.162.14.14 0 0 1-.017-.054v-2.327a2.59 2.59 0 0 0-.756-1.876c1.348-.24 2.356-.754 3.024-1.542.668-.787 1.002-1.74 1.002-2.86 0-1.045-.328-1.953-.985-2.723.235-.77.194-1.581-.122-2.435-.329-.024-.686.034-1.073.172-.386.138-.673.267-.861.387a13.1 13.1 0 0 0-.51.343c-.68-.192-1.438-.289-2.276-.289-.838 0-1.59.097-2.259.29a11.396 11.396 0 0 0-.448-.317c-.17-.114-.466-.252-.888-.414-.422-.163-.803-.232-1.143-.208-.328.866-.363 1.69-.105 2.471-.644.77-.967 1.678-.967 2.724 0 1.118.328 2.069.985 2.85.656.781 1.664 1.299 3.023 1.551a2.584 2.584 0 0 0-.703 1.263c-.996.252-1.693.072-2.092-.542-.738-1.106-1.4-1.502-1.986-1.19-.083.084-.07.171.035.262.105.09.263.21.475.36.21.151.368.316.474.497.012.024.044.111.097.261.05.145.103.29.158.433.052.138.152.292.3.46.145.168.316.31.509.424.193.114.46.199.8.253.34.053.726.056 1.16.009v1.812a.78.78 0 0 1-.01.09.157.157 0 0 1-.034.09.357.357 0 0 1-.07.055.216.216 0 0 1-.115.027c-.047 0-.105-.006-.176-.018-1.781-.638-3.23-1.753-4.35-3.346C3.559 16.025 3 14.23 3 12.235Z' fill='white'/%3e%3c/svg%3e",Ni="data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none'%3e%3cpath d='M6.767 12c0-.585.1-1.145.276-1.67L3.944 8.012A8.84 8.84 0 0 0 3 12c0 1.433.34 2.784.942 3.984l3.098-2.32A5.221 5.221 0 0 1 6.767 12' fill='%23FBBC05'/%3e%3cpath d='M12.21 6.682c1.297 0 2.468.45 3.39 1.186l2.679-2.618C16.646 3.86 14.553 3 12.209 3 8.57 3 5.443 5.037 3.945 8.013l3.1 2.316c.714-2.121 2.75-3.647 5.166-3.647' fill='%23EA4335'/%3e%3cpath d='M12.21 17.318c-2.417 0-4.453-1.526-5.167-3.647l-3.099 2.316C5.441 18.963 8.569 21 12.21 21c2.245 0 4.39-.78 6-2.243l-2.943-2.226c-.83.512-1.875.787-3.058.787' fill='%2334A853'/%3e%3cpath d='M21 12c0-.532-.084-1.105-.21-1.636h-8.58v3.477h4.94a4.05 4.05 0 0 1-1.881 2.69l2.942 2.226C19.9 17.221 21 14.934 21 12' fill='%234285F4'/%3e%3c/g%3e%3c/svg%3e";var O="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginButton/index.tsx";const bi={wechat:di,agora:hi,github:fi,google:Ni},vi=({provider:i,text:l,onClick:n})=>e("div",{className:"login-button-wrapper",children:[e("button",{className:`login-button login-button-${i}`,onClick:()=>n(i),children:e("img",{alt:i,src:bi[i]},void 0,!1,{fileName:O,lineNumber:31,columnNumber:17},void 0)},void 0,!1,{fileName:O,lineNumber:27,columnNumber:13},void 0),e("span",{className:"login-button-text",children:l||i},void 0,!1,{fileName:O,lineNumber:33,columnNumber:13},void 0)]},void 0,!0,{fileName:O,lineNumber:26,columnNumber:9},void 0);var ce="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginButtons/index.tsx";const pi=({buttons:i,onClick:l})=>e("div",{className:"login-buttons",children:i.map(({provider:n,text:m})=>e(vi,{provider:n,text:m,onClick:l},n,!1,{fileName:ce,lineNumber:22,columnNumber:17},void 0))},void 0,!1,{fileName:ce,lineNumber:20,columnNumber:9},void 0);function ne(i,l){var n=function(r){return l&&u.exports.isValidElement(r)?l(r):r},m=Object.create(null);return i&&u.exports.Children.map(i,function(a){return a}).forEach(function(a){m[a.key]=n(a)}),m}function gi(i,l){i=i||{},l=l||{};function n(g){return g in l?l[g]:i[g]}var m=Object.create(null),a=[];for(var r in i)r in l?a.length&&(m[r]=a,a=[]):a.push(r);var s,c={};for(var N in l){if(m[N])for(s=0;s<m[N].length;s++){var v=m[N][s];c[m[N][s]]=n(v)}c[N]=n(N)}for(s=0;s<a.length;s++)c[a[s]]=n(a[s]);return c}function y(i,l,n){return n[l]!=null?n[l]:i.props[l]}function Ci(i,l){return ne(i.children,function(n){return u.exports.cloneElement(n,{onExited:l.bind(null,n),in:!0,appear:y(n,"appear",i),enter:y(n,"enter",i),exit:y(n,"exit",i)})})}function xi(i,l,n){var m=ne(i.children),a=gi(l,m);return Object.keys(a).forEach(function(r){var s=a[r];if(!!u.exports.isValidElement(s)){var c=r in l,N=r in m,v=l[r],g=u.exports.isValidElement(v)&&!v.props.in;N&&(!c||g)?a[r]=u.exports.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",i),enter:y(s,"enter",i)}):!N&&c&&!g?a[r]=u.exports.cloneElement(s,{in:!1}):N&&c&&u.exports.isValidElement(v)&&(a[r]=u.exports.cloneElement(s,{onExited:n.bind(null,s),in:v.props.in,exit:y(s,"exit",i),enter:y(s,"enter",i)}))}}),a}var ie="/Users/yl/github-repo/openflat/node_modules/.pnpm/react-transition-group@4.4.5_sfoxds7t5ydpegc3knd667wn6m/node_modules/react-transition-group/esm/TransitionGroup.js",ki=Object.values||function(i){return Object.keys(i).map(function(l){return i[l]})},Fi={component:"div",childFactory:function(l){return l}},oe=function(i){Ee(l,i);function l(m,a){var r;r=i.call(this,m,a)||this;var s=r.handleExited.bind(De(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}var n=l.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},l.getDerivedStateFromProps=function(a,r){var s=r.children,c=r.handleExited,N=r.firstRender;return{children:N?Ci(a,c):xi(a,s,c),firstRender:!1}},n.handleExited=function(a,r){var s=ne(this.props.children);a.key in s||(a.props.onExited&&a.props.onExited(r),this.mounted&&this.setState(function(c){var N=He({},c.children);return delete N[a.key],{children:N}}))},n.render=function(){var a=this.props,r=a.component,s=a.childFactory,c=Re(a,["component","childFactory"]),N=this.state.contextValue,v=ki(this.state.children).map(s);return delete c.appear,delete c.enter,delete c.exit,r===null?e(ue.Provider,{value:N,children:v},void 0,!1,{fileName:ie,lineNumber:117,columnNumber:27},this):e(ue.Provider,{value:N,children:e(r,{...c,children:v},void 0,!1,{fileName:ie,lineNumber:124,columnNumber:21},this)},void 0,!1,{fileName:ie,lineNumber:122,columnNumber:25},this)},l}(Ae.Component);oe.propTypes={component:H.exports.any,children:H.exports.node,appear:H.exports.bool,enter:H.exports.bool,exit:H.exports.bool,childFactory:H.exports.func};oe.defaultProps=Fi;const wi=oe;var de="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginPanelContent/index.tsx";const Mi=({transitionKey:i,children:l})=>e(wi,{className:"login-panel-content",children:e(si,{unmountOnExit:!0,classNames:"slider-in",timeout:400,children:l},i,!1,{fileName:de,lineNumber:16,columnNumber:13},void 0)},void 0,!1,{fileName:de,lineNumber:15,columnNumber:9},void 0),pe=[1,7,20,27,30,31,32,33,34,36,39,40,41,43,44,45,46,47,48,49,51,52,53,54,55,56,57,58,60,61,62,63,64,65,66,81,82,84,86,90,91,92,93,94,95,98,211,212,213,216,218,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,260,261,262,263,264,265,266,267,268,269,290,291,297,298,299,350,351,352,353,354,355,356,357,358,359,370,371,372,373,374,375,376,377,378,380,381,382,383,385,386,387,389,420,421,423,500,501,502,503,504,505,506,507,508,509,590,591,592,593,594,595,596,597,598,599,670,672,673,674,675,676,677,678,679,680,681,682,683,685,686,687,688,689,690,691,692,850,852,853,855,856,880,886,960,961,962,963,964,965,966,967,968,970,971,972,973,974,975,976,977,992,993,994,995,996,998];var h="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/LoginWithPhone/index.tsx";function w(i){return i.length>=5&&!/\D/.test(i)}function I(i){return i.length===6}const yi=({buttons:i,privacyURL:l,serviceURL:n,isBindingPhone:m,cancelBindingPhone:a,sendBindingPhoneCode:r,bindingPhone:s,onClickButton:c,sendVerificationCode:N,loginOrRegister:v,renderQRCode:g})=>{const x=Pe(),d=te(),C=u.exports.useMemo(()=>i?i.map(p=>({provider:p,text:d(`login-${p}`)})):[{provider:"wechat",text:d("login-wechat")},{provider:"github",text:d("login-github")}],[d,i]),Z=Se(),[L,U]=u.exports.useState(!1),[F,b]=u.exports.useState("+86"),[f,E]=u.exports.useState(""),[D,ge]=u.exports.useState(""),[M,z]=u.exports.useState(!1),[Q,B]=u.exports.useState(!1),[W,Ce]=u.exports.useState(""),[Y,T]=u.exports.useState(0),[ae,re]=u.exports.useState(!1),[se,me]=u.exports.useState(!1),J=!ae&&w(f)&&I(D),X=!se&&w(f)&&I(W),xe=u.exports.useCallback(async()=>{if(w(f)){B(!0);const p=await x(N(F,f));if(B(!1),p){R.info(d("sent-verify-code-to-phone"));let k=60;T(k);const P=setInterval(()=>{if(Z.current){clearInterval(P);return}T(--k),k===0&&clearInterval(P)},1e3)}else R.error(d("send-verify-code-failed"))}},[F,Z,f,N,x,d]),ke=u.exports.useCallback(async()=>{if(!M){if(!await le({t:d,privacyURL:l,serviceURL:n}))return;z(!0)}J&&(re(!0),await x(v(F,f,D))?await x(new Promise(k=>setTimeout(k,6e4))):R.error(d("login-failed")),re(!1))},[M,J,d,l,n,x,v,F,f,D]),Fe=u.exports.useCallback(async p=>{if(!M){if(!await le({t:d,privacyURL:l,serviceURL:n}))return;z(!0)}p==="wechat"?U(!0):c(p)},[M,c,l,n,d]),we=u.exports.useCallback(async()=>{if(w(f)&&r){B(!0);const p=await x(r(F,f));if(B(!1),p){R.info(d("sent-verify-code-to-phone"));let k=60;T(k);const P=setInterval(()=>{if(Z.current){clearInterval(P);return}T(--k),k===0&&clearInterval(P)},1e3)}else R.error(d("send-verify-code-failed"))}},[F,Z,f,r,x,d]),Me=u.exports.useCallback(async()=>{if(!M){if(!await le({t:d,privacyURL:l,serviceURL:n}))return;z(!0)}X&&s&&(me(!0),await x(s(F,f,W))?await x(new Promise(k=>setTimeout(k,6e4))):R.error(d("bind-phone-failed")),me(!1))},[M,s,W,X,F,f,l,n,x,d]);function ye(){return e("div",{className:"login-with-wechat",children:e("div",{className:"login-width-limiter",children:[e("div",{className:"login-qrcode",children:g()},void 0,!1,{fileName:h,lineNumber:214,columnNumber:21},this),e(A,{className:"login-btn-back",type:"link",onClick:()=>U(!1),children:d("back")},void 0,!1,{fileName:h,lineNumber:215,columnNumber:21},this)]},void 0,!0,{fileName:h,lineNumber:213,columnNumber:17},this)},void 0,!1,{fileName:h,lineNumber:212,columnNumber:13},this)}function Ze(){return e("div",{className:"login-with-phone",children:[e("div",{className:"login-width-limiter",children:[e(ve,{},void 0,!1,{fileName:h,lineNumber:231,columnNumber:21},this),e($,{placeholder:d("enter-phone"),prefix:e(G,{bordered:!1,defaultValue:"+86",onChange:b,children:pe.map(p=>e(G.Option,{value:`+${p}`,children:`+${p}`},p,!1,{fileName:h,lineNumber:237,columnNumber:37},this))},void 0,!1,{fileName:h,lineNumber:235,columnNumber:29},this),size:"small",status:!f||w(f)?void 0:"error",value:f,onChange:p=>E(p.currentTarget.value)},void 0,!1,{fileName:h,lineNumber:232,columnNumber:21},this),e($,{placeholder:d("enter-code"),prefix:e("img",{alt:"checked",draggable:!1,src:be},void 0,!1,{fileName:h,lineNumber:251,columnNumber:33},this),status:!D||I(D)?void 0:"error",suffix:Y>0?e("span",{className:"login-countdown",children:d("seconds-to-resend",{seconds:Y})},void 0,!1,{fileName:h,lineNumber:255,columnNumber:33},this):e(A,{disabled:Q||!w(f),loading:Q,size:"small",type:"link",onClick:xe,children:d("send-verify-code")},void 0,!1,{fileName:h,lineNumber:259,columnNumber:33},this),value:D,onChange:p=>ge(p.currentTarget.value)},void 0,!1,{fileName:h,lineNumber:249,columnNumber:21},this),e(ci,{checked:M,privacyURL:l,serviceURL:n,onChange:z},void 0,!1,{fileName:h,lineNumber:273,columnNumber:21},this),e(A,{className:"login-big-button",disabled:!J,loading:ae,type:"primary",onClick:ke,children:d("register-or-login")},void 0,!1,{fileName:h,lineNumber:279,columnNumber:21},this)]},void 0,!0,{fileName:h,lineNumber:230,columnNumber:17},this),e("div",{className:"login-splitter",children:e("span",{className:"login-splitter-text",children:d("also-login-with")},void 0,!1,{fileName:h,lineNumber:290,columnNumber:21},this)},void 0,!1,{fileName:h,lineNumber:289,columnNumber:17},this),e(pi,{buttons:C,onClick:Fe},void 0,!1,{fileName:h,lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:h,lineNumber:229,columnNumber:13},this)}return e(Mi,{transitionKey:m?"bind-phone":L?"qrcode":"login",children:m?Zi({t:d,setCountryCode:b,phone:f,setPhone:E,bindingPhoneCode:W,countdown:Y,sendingCode:Q,sendBindingCode:we,setBindingPhoneCode:Ce,canBinding:X,clickedBinding:se,bindPhone:Me,cancelBindingPhone:()=>a==null?void 0:a()}):L?ye():Ze()},void 0,!1,{fileName:h,lineNumber:300,columnNumber:9},void 0)};function le({t:i,privacyURL:l,serviceURL:n}){return new Promise(m=>_e.confirm({content:e("div",{children:[i("have-read-and-agree")," ",e("a",{href:l,rel:"noreferrer",target:"_blank",children:i("privacy-agreement")},void 0,!1,{fileName:h,lineNumber:356,columnNumber:21},this)," ",i("and")," ",e("a",{href:n,rel:"noreferrer",target:"_blank",children:i("service-policy")},void 0,!1,{fileName:h,lineNumber:360,columnNumber:21},this)]},void 0,!0,{fileName:h,lineNumber:354,columnNumber:17},this),onOk:()=>m(!0),onCancel:()=>m(!1)}))}function Zi({t:i,setCountryCode:l,phone:n,setPhone:m,bindingPhoneCode:a,countdown:r,sendingCode:s,sendBindingCode:c,setBindingPhoneCode:N,canBinding:v,clickedBinding:g,bindPhone:x,cancelBindingPhone:d}){return e("div",{className:"login-with-phone binding",children:e("div",{className:"login-width-limiter",children:[e(ve,{subtitle:i("need-bind-phone"),title:i("bind-phone")},void 0,!1,{fileName:h,lineNumber:389,columnNumber:17},this),e($,{placeholder:i("enter-phone"),prefix:e(G,{bordered:!1,defaultValue:"+86",onChange:l,children:pe.map(C=>e(G.Option,{value:`+${C}`,children:`+${C}`},C,!1,{fileName:h,lineNumber:395,columnNumber:33},this))},void 0,!1,{fileName:h,lineNumber:393,columnNumber:25},this),size:"small",status:!n||w(n)?void 0:"error",value:n,onChange:C=>m(C.currentTarget.value)},void 0,!1,{fileName:h,lineNumber:390,columnNumber:17},this),e($,{placeholder:i("enter-code"),prefix:e("img",{alt:"checked",draggable:!1,src:be},void 0,!1,{fileName:h,lineNumber:409,columnNumber:29},this),status:!a||I(a)?void 0:"error",suffix:r>0?e("span",{className:"login-countdown",children:i("seconds-to-resend",{seconds:r})},void 0,!1,{fileName:h,lineNumber:415,columnNumber:29},this):e(A,{disabled:s||!w(n),loading:s,size:"small",type:"link",onClick:c,children:i("send-verify-code")},void 0,!1,{fileName:h,lineNumber:419,columnNumber:29},this),value:a,onChange:C=>N(C.currentTarget.value)},void 0,!1,{fileName:h,lineNumber:407,columnNumber:17},this),e(A,{className:"login-big-button",disabled:!v,loading:g,type:"primary",onClick:x,children:i("confirm")},void 0,!1,{fileName:h,lineNumber:433,columnNumber:17},this),e(A,{className:"login-btn-back",type:"link",onClick:d,children:i("back")},void 0,!1,{fileName:h,lineNumber:442,columnNumber:17},this)]},void 0,!0,{fileName:h,lineNumber:388,columnNumber:13},this)},void 0,!1,{fileName:h,lineNumber:387,columnNumber:9},this)}var S="/Users/yl/github-repo/openflat/packages/flat-components/src/components/LoginPage/index.tsx";const Li=({children:i})=>{const l=u.exports.useContext(Ue);return e("div",{className:"login-panel-container",children:[e("div",{className:"login-panel-cover",children:l?e(ui,{},void 0,!1,{fileName:S,lineNumber:17,columnNumber:60},void 0):e(mi,{},void 0,!1,{fileName:S,lineNumber:17,columnNumber:76},void 0)},void 0,!1,{fileName:S,lineNumber:17,columnNumber:13},void 0),e("div",{className:"login-panel-inner",children:i},void 0,!1,{fileName:S,lineNumber:18,columnNumber:13},void 0)]},void 0,!0,{fileName:S,lineNumber:16,columnNumber:9},void 0)};const Ei=()=>{const i=he();return(async()=>{try{await Ne(i)}catch(l){q(l);return}window.location.href=Di(i,fe.AGORA_CALLBACK)})(),()=>{}};function Di(i,l){const n=encodeURIComponent(l);return`https://sso2.agora.io/api/v0/oauth/authorize?response_type=code&client_id=${ze.CLIENT_ID}&redirect_uri=${n}&scope=basic_info&state=${i}&toPage=signup`}const Hi=(i,l)=>{let n=NaN;const m=he(),a=["openid","https://www.googleapis.com/auth/userinfo.profile"];function r(s){const c=encodeURIComponent(fe.GOOGLE_CALLBACK);return`https://accounts.google.com/o/oauth2/v2/auth?response_type=code&access_type=online&scope=${encodeURIComponent(a.join(" "))}&client_id=${Be.CLIENT_ID}&redirect_uri=${c}&state=${s}`}return(async()=>{try{await Ne(m)}catch(c){q(c);return}l?l.openExternalBrowser(r(m)):window.open(r(m));const s=async()=>{try{const c=await qe(m);if(!c.name){n=window.setTimeout(s,2e3);return}i(c)}catch(c){q(c)}};s()})(),()=>{window.clearTimeout(n)}};var _="/Users/yl/github-repo/openflat/packages/flat-pages/src/LoginPage/index.tsx";const Ti=We(function(){const l=Te(),n=Qe(),m=u.exports.useContext(Ve),a=u.exports.useContext(Oe),r=u.exports.useRef(),[s]=u.exports.useState(()=>new URLSearchParams(window.location.search).get("redirect")),[c]=u.exports.useState(()=>sessionStorage.getItem("roomUUID")),N=oi(),v=Ye(),[g,x]=u.exports.useState(null);u.exports.useEffect(()=>()=>{r.current&&(r.current(),r.current=void 0),sessionStorage.clear()},[]);const d=u.exports.useCallback(b=>{m.updateUserInfo(b),x(b),b&&b.hasPhone&&n(K.HomePage)},[m,n]),C=u.exports.useCallback(async b=>{if(m.updateUserInfo(b),ai(b.token),!b.hasPhone){d(b);return}if(s){window.location.href=s;return}if(!c){n(K.HomePage);return}m.isTurnOffDeviceTest||window.isElectron?await ni(c,n):n(K.DevicesTestPage,{roomUUID:c})},[m,n,s,c,d]),Z=u.exports.useCallback(()=>{g&&C({...g,hasPhone:!0})},[g,C]),L=u.exports.useCallback(b=>{switch(r.current&&(r.current(),r.current=void 0),b){case"agora":{Ei();return}case"github":{r.current=li(C,a);return}case"google":{r.current=Hi(C,a);return}default:return}},[C,a]);u.exports.useEffect(()=>{v.utm_source==="agora"&&L("agora")},[L,v.utm_source]),u.exports.useEffect(()=>{(async()=>{const f=await N(ii(v.token));f.hasPhone||d(f)})().catch(f=>{console.warn(f)})},[m,d,N,v.token]);const U=l.startsWith("zh")?je:Ie,F=l.startsWith("zh")?$e:Ge;return e("div",{className:"login-page-container",children:[e(Li,{children:e(yi,{bindingPhone:async(b,f,E)=>j(Je(b+f,Number(E)).then(Z)),buttons:["wechat","github"],cancelBindingPhone:()=>d(null),isBindingPhone:g?!g.hasPhone:!1,loginOrRegister:async(b,f,E)=>j(Xe(b+f,Number(E)).then(C)),privacyURL:U,renderQRCode:()=>e(ti,{setLoginResult:d},void 0,!1,{fileName:_,lineNumber:167,columnNumber:41},this),sendBindingPhoneCode:async(b,f)=>j(Ke(b+f)),sendVerificationCode:async(b,f)=>j(ei(b+f)),serviceURL:F,onClickButton:L},void 0,!1,{fileName:_,lineNumber:154,columnNumber:17},this)},void 0,!1,{fileName:_,lineNumber:153,columnNumber:13},this),e(ri,{},void 0,!1,{fileName:_,lineNumber:178,columnNumber:13},this)]},void 0,!0,{fileName:_,lineNumber:152,columnNumber:9},this)});function j(i){return i.then(()=>!0).catch(l=>(q(l),!1))}export{Ti as LoginPage,Ti as default};
//# sourceMappingURL=index.7db17773.js.map
