{"version":3,"file":"index.2ceb70a8.js","sources":["../../../../packages/flat-components/src/components/DeviceTestPage/icons/camera-disabled.svg","../../../../packages/flat-components/src/components/DeviceTestPage/icons/disabled.svg","../../../../packages/flat-components/src/components/DeviceTestPage/DeviceTestSelect/index.tsx","../../../../packages/flat-components/src/components/DeviceTestPage/CameraTest/index.tsx","../../../../packages/flat-components/src/components/DeviceTestPage/MicrophoneTest/index.tsx","../../../../packages/flat-components/src/components/DeviceTestPage/icons/play.svg","../../../../packages/flat-components/src/components/DeviceTestPage/icons/stop.svg","../../../../packages/flat-components/src/components/DeviceTestPage/SpeakerTest/assets/media/Goldberg Variations, BWV 988 - 05 - Variatio 4 a 1 Clav.mp3","../../../../packages/flat-components/src/components/DeviceTestPage/SpeakerTest/index.tsx","../../../../packages/flat-components/src/components/DeviceTestPage/index.tsx","../../../../packages/flat-pages/src/DevicesTestPage/index.tsx"],"sourcesContent":["export default \"data:image/svg+xml;charset=utf8,%3csvg width='120' height='120' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M86.562 93.048a2.5 2.5 0 1 1-3.124 3.904c-13.703-10.962-33.173-10.962-46.876 0a2.5 2.5 0 1 1-3.124-3.904c15.53-12.423 37.595-12.423 53.124 0Zm5.206-64.816a2.5 2.5 0 0 1 .289 3.19l-.29.346-6.765 6.764-3.83 3.832-.001-.001-8.717 8.719-11.371 11.372-.002-.001-8.717 8.718h.001l-3.832 3.832-.001-.001-16.764 16.766a2.5 2.5 0 0 1-3.825-3.19l.29-.346 60-60a2.5 2.5 0 0 1 3.535 0ZM86.8 43.807c.458 1.99.7 4.063.7 6.193 0 15.188-12.312 27.5-27.5 27.5-2.13 0-4.202-.242-6.193-.7l4.373-4.373c.6.048 1.207.073 1.82.073 12.426 0 22.5-10.074 22.5-22.5 0-.613-.025-1.22-.073-1.82l4.373-4.373ZM60 22.5a27.41 27.41 0 0 1 19.14 7.753l-3.536 3.537A22.425 22.425 0 0 0 60 27.5c-12.426 0-22.5 10.074-22.5 22.5 0 6.06 2.395 11.559 6.29 15.604l-3.537 3.536A27.41 27.41 0 0 1 32.5 50c0-15.188 12.312-27.5 27.5-27.5Zm0 15c3.298 0 6.297 1.277 8.53 3.363l-3.539 3.539a7.5 7.5 0 0 0-10.59 10.59l-3.538 3.539A12.456 12.456 0 0 1 47.5 50c0-6.904 5.596-12.5 12.5-12.5Z' fill='%237A7B7C'/%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg width='12' height='12' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3ccircle fill='%23FFCD00' cx='6' cy='6' r='6'/%3e%3cpath d='M6.75 5v5h-1.5V5h1.5ZM6 2a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z' fill='%231A1E21' fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e\";","import disabledSVG from \"../icons/disabled.svg\";\nimport \"./style.less\";\n\nimport React from \"react\";\nimport { Button, Select } from \"antd\";\nimport { Device } from \"../constants\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface DeviceTestSelectProps {\n    devices?: Device[];\n    isDeviceAccessible: boolean;\n    currentDeviceID: string;\n    onChange: (deviceID: string) => void;\n}\n\nexport const DeviceTestSelect: React.FC<DeviceTestSelectProps> = ({\n    devices,\n    isDeviceAccessible,\n    currentDeviceID,\n    onChange,\n}) => {\n    const t = useTranslate();\n    const deviceId = devices?.some(device => device.deviceId === currentDeviceID)\n        ? currentDeviceID\n        : undefined;\n\n    return (\n        <div className=\"device-test-select-container\">\n            {isDeviceAccessible ? (\n                <div className=\"device-test-select-box\">\n                    <Select value={deviceId} onChange={onChange}>\n                        {devices?.map(({ deviceId, label }) => {\n                            return (\n                                <Select.Option key={deviceId} value={deviceId}>\n                                    {label}\n                                </Select.Option>\n                            );\n                        })}\n                    </Select>\n                </div>\n            ) : (\n                <div className=\"device-test-select-disabled-btn\">\n                    <Button icon={<img src={disabledSVG} />}>{t(\"no-device-permission\")}</Button>\n                </div>\n            )}\n        </div>\n    );\n};\n","import \"./style.less\";\nimport cameraDisabledSVG from \"../icons/camera-disabled.svg\";\n\nimport React from \"react\";\nimport classNames from \"classnames\";\nimport { Device } from \"../constants\";\nimport { DeviceTestSelect } from \"../DeviceTestSelect\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface CameraTestProps {\n    cameraDevices?: Device[];\n    isCameraAccessible: boolean;\n    currentCameraDeviceID: string;\n    cameraVideoStreamRef: React.RefObject<HTMLDivElement>;\n    setCameraDevice: (deviceID: string) => void;\n}\n\nexport const CameraTest: React.FC<CameraTestProps> = ({\n    cameraDevices,\n    isCameraAccessible,\n    currentCameraDeviceID,\n    cameraVideoStreamRef,\n    setCameraDevice,\n}) => {\n    const t = useTranslate();\n\n    return (\n        <div className=\"camera-test-container\">\n            <div className=\"camera-test-text\">{t(\"camera\")}</div>\n            <div className=\"camera-test-select-box\">\n                <DeviceTestSelect\n                    currentDeviceID={currentCameraDeviceID}\n                    devices={cameraDevices}\n                    isDeviceAccessible={isCameraAccessible}\n                    onChange={setCameraDevice}\n                />\n            </div>\n            <div className=\"camera-test-wrapper\">\n                <div ref={cameraVideoStreamRef} className=\"camera-box\" />\n                <div\n                    className={classNames(\"camera-no-accredit-box\", {\n                        visible: !isCameraAccessible,\n                    })}\n                >\n                    <img src={cameraDisabledSVG} />\n                    <span>{t(\"enable-camera-permission-tip\")}</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport React from \"react\";\nimport { Device } from \"../constants\";\nimport { DeviceTestSelect } from \"../DeviceTestSelect\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport interface MicrophoneTestProps {\n    microphoneDevices?: Device[];\n    microphoneVolume: number;\n    currentMicrophoneDeviceID: string;\n    isMicrophoneAccessible: boolean;\n    setMicrophoneDevice: (deviceID: string) => void;\n}\n\nexport const MicrophoneTest: React.FC<MicrophoneTestProps> = ({\n    microphoneDevices,\n    microphoneVolume,\n    isMicrophoneAccessible,\n    currentMicrophoneDeviceID,\n    setMicrophoneDevice,\n}) => {\n    const t = useTranslate();\n\n    return (\n        <div className=\"microphone-test-container\">\n            <div className=\"microphone-test-text\">{t(\"microphone\")}</div>\n            <div className=\"microphone-text-select-box\">\n                <DeviceTestSelect\n                    currentDeviceID={currentMicrophoneDeviceID}\n                    devices={microphoneDevices}\n                    isDeviceAccessible={isMicrophoneAccessible}\n                    onChange={setMicrophoneDevice}\n                />\n            </div>\n            <div className=\"microphone-test-wrapper\">\n                <div\n                    className=\"microphone-test-volume\"\n                    style={{ width: `${microphoneVolume * 100}%` }}\n                />\n                <div className=\"microphone-test-mask\" />\n            </div>\n        </div>\n    );\n};\n","export default \"data:image/svg+xml;charset=utf8,%3csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M6.5 5v14l11-7z' fill='%235D5D5D' fill-rule='evenodd'/%3e%3c/svg%3e\";","export default \"data:image/svg+xml;charset=utf8,%3csvg width='22' height='22' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M7 5h2v12H7zm6 0h2v12h-2z' fill='%23444E60' fill-rule='evenodd'/%3e%3c/svg%3e\";","export default \"__VITE_ASSET__e8025df4__\"","import playSVG from \"../icons/play.svg\";\nimport stopSVG from \"../icons/stop.svg\";\nimport \"./style.less\";\n\nimport { Button } from \"antd\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Device } from \"../constants\";\nimport { DeviceTestSelect } from \"../DeviceTestSelect\";\nimport { useTranslate } from \"@netless/flat-i18n\";\nimport audioLocalResourceMP3 from \"./assets/media/Goldberg Variations, BWV 988 - 05 - Variatio 4 a 1 Clav.mp3\";\n\nexport interface SpeakerTestProps {\n    speakerDevices?: Device[];\n    speakerTestFileName: string;\n    currentSpeakerDeviceID: string;\n    isSpeakerAccessible: boolean;\n    audioResourceSrc?: string;\n    setSpeakerDevice: (deviceID: string) => void;\n}\n\nexport const SpeakerTest: React.FC<SpeakerTestProps> = ({\n    speakerDevices,\n    speakerTestFileName,\n    currentSpeakerDeviceID,\n    isSpeakerAccessible,\n    audioResourceSrc,\n    setSpeakerDevice,\n}) => {\n    const t = useTranslate();\n    const [isPlaying, setIsPlaying] = useState(false);\n    const audioRef = useRef<HTMLAudioElement>(null);\n\n    useEffect(() => () => audioRef.current?.pause(), []);\n\n    const togglePlay = (): void => {\n        isPlaying ? audioRef.current?.pause() : audioRef.current?.play();\n        setIsPlaying(!isPlaying);\n    };\n\n    return (\n        <div className=\"speaker-test-container\">\n            <div className=\"speaker-test-text\">{t(\"speaker\")}</div>\n            <div className=\"speaker-text-select-box\">\n                <DeviceTestSelect\n                    currentDeviceID={currentSpeakerDeviceID}\n                    devices={speakerDevices}\n                    isDeviceAccessible={isSpeakerAccessible}\n                    onChange={setSpeakerDevice}\n                />\n            </div>\n            <div className=\"speaker-test-output-box\">\n                <audio\n                    ref={audioRef}\n                    loop\n                    src={audioResourceSrc ? audioResourceSrc : audioLocalResourceMP3}\n                ></audio>\n                <Button icon={<img src={isPlaying ? stopSVG : playSVG} />} onClick={togglePlay}>\n                    {speakerTestFileName}\n                </Button>\n            </div>\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport { Button, Checkbox } from \"antd\";\nimport React from \"react\";\nimport { CameraTest } from \"./CameraTest\";\nimport { Device } from \"./constants\";\nimport { MicrophoneTest } from \"./MicrophoneTest\";\nimport { SpeakerTest } from \"./SpeakerTest\";\nimport { useTranslate } from \"@netless/flat-i18n\";\n\nexport type { Device };\n\nexport interface DeviceTestPanelProps {\n    cameraDevices?: Device[];\n    speakerDevices?: Device[];\n    microphoneDevices?: Device[];\n    audioResourceSrc?: string;\n    speakerTestFileName: string;\n    currentCameraDeviceID: string;\n    currentSpeakerDeviceID: string;\n    currentMicrophoneDeviceID: string;\n    microphoneVolume: number;\n    isCameraAccessible: boolean;\n    isSpeakerAccessible: boolean;\n    isMicrophoneAccessible: boolean;\n    cameraVideoStreamRef: React.RefObject<HTMLDivElement>;\n    setSpeakerDevice: (deviceID: string) => void;\n    setCameraDevice: (deviceID: string) => void;\n    setMicrophoneDevice: (deviceID: string) => void;\n    toggleDeviceTest: () => void;\n    joinRoom: () => void;\n}\n\nexport const DeviceTestPanel: React.FC<DeviceTestPanelProps> = ({\n    cameraDevices,\n    speakerDevices,\n    microphoneDevices,\n    audioResourceSrc,\n    speakerTestFileName,\n    currentCameraDeviceID,\n    currentSpeakerDeviceID,\n    currentMicrophoneDeviceID,\n    microphoneVolume,\n    isCameraAccessible,\n    isSpeakerAccessible,\n    isMicrophoneAccessible,\n    cameraVideoStreamRef,\n    setCameraDevice,\n    setMicrophoneDevice,\n    setSpeakerDevice,\n    toggleDeviceTest,\n    joinRoom,\n}) => {\n    const t = useTranslate();\n    return (\n        <div className=\"device-test-panel-container\">\n            <div className=\"device-test-panel-title-box\">{t(\"device-test\")}</div>\n            <div className=\"device-test-panel-inner-box\">\n                <div className=\"device-test-panel-inner-left\">\n                    <CameraTest\n                        cameraDevices={cameraDevices}\n                        cameraVideoStreamRef={cameraVideoStreamRef}\n                        currentCameraDeviceID={currentCameraDeviceID}\n                        isCameraAccessible={isCameraAccessible}\n                        setCameraDevice={setCameraDevice}\n                    />\n                </div>\n                <div className=\"device-test-panel-inner-right\">\n                    <SpeakerTest\n                        audioResourceSrc={audioResourceSrc}\n                        currentSpeakerDeviceID={currentSpeakerDeviceID}\n                        isSpeakerAccessible={isSpeakerAccessible}\n                        setSpeakerDevice={setSpeakerDevice}\n                        speakerDevices={speakerDevices}\n                        speakerTestFileName={speakerTestFileName}\n                    />\n                    <MicrophoneTest\n                        currentMicrophoneDeviceID={currentMicrophoneDeviceID}\n                        isMicrophoneAccessible={isMicrophoneAccessible}\n                        microphoneDevices={microphoneDevices}\n                        microphoneVolume={microphoneVolume}\n                        setMicrophoneDevice={setMicrophoneDevice}\n                    />\n                </div>\n            </div>\n            <div className=\"device-test-panel-tips-box\">\n                <div className=\"device-test-panel-tips-radio\">\n                    <Checkbox onClick={toggleDeviceTest}>{t(\"close-tip\")}</Checkbox>\n                </div>\n                <div className=\"device-test-panel-join-btn\">\n                    <Button type=\"primary\" onClick={joinRoom}>\n                        {t(\"join-room\")}\n                    </Button>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import \"./style.less\";\n\nimport { DeviceTestPanel } from \"flat-components\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { IServiceVideoChatDevice } from \"@netless/flat-services\";\n\nimport { useParams } from \"react-router-dom\";\nimport { RouteNameType, RouteParams, usePushHistory } from \"../utils/routes\";\nimport { joinRoomHandler } from \"../utils/join-room-handler\";\nimport { GlobalStoreContext, PreferencesStoreContext } from \"../components/StoreProvider\";\nimport { useSafePromise } from \"../utils/hooks/lifecycle\";\nimport { useLoginCheck } from \"../utils/use-login-check\";\nimport { useFlatService } from \"../components/FlatServicesContext\";\n\nexport const DevicesTestPage = observer(function DeviceTestPage() {\n    const pushHistory = usePushHistory();\n    const globalStore = useContext(GlobalStoreContext);\n    const rtc = useFlatService(\"videoChat\");\n    const preferencesStore = useContext(PreferencesStoreContext);\n    const sp = useSafePromise();\n\n    useLoginCheck();\n\n    const { roomUUID } = useParams<RouteParams<RouteNameType.JoinPage>>();\n\n    const cameraVideoStreamRef = useRef<HTMLDivElement>(null);\n\n    const [cameraDevices, setCameraDevices] = useState<IServiceVideoChatDevice[]>([]);\n    const [microphoneDevices, setMicrophoneDevices] = useState<IServiceVideoChatDevice[]>([]);\n\n    const [cameraDeviceId, setCameraDeviceId] = useState<string>(\"\");\n    const [microphoneDeviceId, setMicrophoneDeviceId] = useState<string>(\"\");\n\n    const [isCameraAccessible, setIsCameraAccessible] = useState(true);\n    const [isMicrophoneAccessible, setIsMicrophoneAccessible] = useState(true);\n\n    const [volume, setVolume] = useState(0);\n\n    useEffect(() => {\n        if (!rtc) {\n            return;\n        }\n        // @FIXME only run once\n        const avatar = rtc.getTestAvatar();\n        if (avatar) {\n            avatar.enableCamera(true);\n            avatar.enableMic(true);\n            avatar.setElement(cameraVideoStreamRef.current);\n\n            const ticket = window.setInterval(() => {\n                // add noise\n                setVolume(Math.min(avatar.getVolumeLevel() + Math.random() * 0.05, 1));\n            }, 50);\n\n            return () => {\n                window.clearInterval(ticket);\n                avatar.enableCamera(false);\n                avatar.enableMic(false);\n                avatar.setElement(null);\n            };\n        }\n        return;\n    }, [rtc, cameraVideoStreamRef]);\n\n    useEffect(() => {\n        if (!rtc) {\n            return;\n        }\n\n        const handlerDeviceError = (): void => {\n            setIsCameraAccessible(false);\n        };\n\n        const refreshCameraDevices = (): void => {\n            sp(rtc.getCameraDevices())\n                .then(devices => {\n                    const cameraDevices = devices.filter(device => device.deviceId);\n                    setCameraDevices(cameraDevices);\n                    setIsCameraAccessible(cameraDevices.length > 0);\n                })\n                .catch(handlerDeviceError);\n        };\n\n        const refreshMicDevices = (): void => {\n            sp(rtc.getMicDevices())\n                .then(devices => {\n                    const microphoneDevices = devices.filter(device => device.deviceId);\n                    setMicrophoneDevices(microphoneDevices);\n                    setIsMicrophoneAccessible(microphoneDevices.length > 0);\n                })\n                .catch(handlerDeviceError);\n        };\n\n        const cameraChangeDisposer = rtc.events.on(\"camera-changed\", refreshCameraDevices);\n        const micChangedDisposer = rtc.events.on(\"mic-changed\", refreshMicDevices);\n\n        refreshCameraDevices();\n        refreshMicDevices();\n\n        return () => {\n            cameraChangeDisposer();\n            micChangedDisposer();\n        };\n    }, [rtc, sp]);\n\n    useEffect(() => {\n        if (rtc && cameraDeviceId) {\n            void rtc.setCameraID(cameraDeviceId).catch(() => {\n                setIsCameraAccessible(false);\n            });\n        }\n    }, [rtc, cameraDeviceId]);\n\n    useEffect(() => {\n        if (rtc && microphoneDeviceId) {\n            void rtc.setMicID(microphoneDeviceId).catch(() => {\n                setIsMicrophoneAccessible(false);\n            });\n        }\n    }, [rtc, microphoneDeviceId]);\n\n    useEffect(() => {\n        // check device id on changes\n        if (cameraDevices.length > 0 && !cameraDeviceId) {\n            const lastCameraId = preferencesStore.cameraId;\n            if (lastCameraId && cameraDevices.find(device => device.deviceId === lastCameraId)) {\n                setCameraDeviceId(lastCameraId);\n            } else {\n                setCameraDeviceId(cameraDevices[0].deviceId);\n            }\n        }\n    }, [preferencesStore, cameraDeviceId, cameraDevices]);\n\n    useEffect(() => {\n        // check device id on changes\n        if (microphoneDevices.length > 0 && !microphoneDeviceId) {\n            const lastMicrophoneId = preferencesStore.microphoneId;\n            if (\n                lastMicrophoneId &&\n                microphoneDevices.some(device => device.deviceId === lastMicrophoneId)\n            ) {\n                setMicrophoneDeviceId(lastMicrophoneId);\n            } else {\n                setMicrophoneDeviceId(microphoneDevices[0].deviceId);\n            }\n        }\n    }, [preferencesStore, microphoneDeviceId, microphoneDevices]);\n\n    const joinRoom = async (): Promise<void> => {\n        preferencesStore.updateCameraId(cameraDeviceId);\n        preferencesStore.updateMicrophoneId(microphoneDeviceId);\n        await joinRoomHandler(roomUUID, pushHistory);\n    };\n\n    return (\n        <div className=\"device-test-page-container\">\n            <div className=\"device-test-panel-box\">\n                <DeviceTestPanel\n                    cameraDevices={cameraDevices}\n                    cameraVideoStreamRef={cameraVideoStreamRef}\n                    currentCameraDeviceID={cameraDeviceId}\n                    currentMicrophoneDeviceID={microphoneDeviceId}\n                    currentSpeakerDeviceID={\"default browser\"}\n                    isCameraAccessible={isCameraAccessible}\n                    isMicrophoneAccessible={isMicrophoneAccessible}\n                    isSpeakerAccessible={true}\n                    joinRoom={joinRoom}\n                    microphoneDevices={microphoneDevices}\n                    microphoneVolume={volume}\n                    setCameraDevice={setCameraDeviceId}\n                    // Currently, the browser does not support switch speaker devices\n                    setMicrophoneDevice={setMicrophoneDeviceId}\n                    setSpeakerDevice={() => null}\n                    speakerTestFileName={\"Music\"}\n                    toggleDeviceTest={() => globalStore.toggleDeviceTest()}\n                />\n            </div>\n        </div>\n    );\n});\n\nexport default DevicesTestPage;\n"],"names":["cameraDisabledSVG","disabledSVG","DeviceTestSelect","devices","isDeviceAccessible","currentDeviceID","onChange","t","useTranslate","deviceId","some","device","undefined","_jsxDEV","Select","map","label","_jsxFileName","Button","CameraTest","cameraDevices","isCameraAccessible","currentCameraDeviceID","cameraVideoStreamRef","setCameraDevice","classNames","visible","MicrophoneTest","microphoneDevices","microphoneVolume","isMicrophoneAccessible","currentMicrophoneDeviceID","setMicrophoneDevice","width","playSVG","stopSVG","audioLocalResourceMP3","SpeakerTest","speakerDevices","speakerTestFileName","currentSpeakerDeviceID","isSpeakerAccessible","audioResourceSrc","setSpeakerDevice","isPlaying","setIsPlaying","useState","audioRef","useRef","useEffect","current","pause","togglePlay","play","DeviceTestPanel","toggleDeviceTest","joinRoom","Checkbox","DevicesTestPage","observer","pushHistory","usePushHistory","globalStore","useContext","GlobalStoreContext","rtc","useFlatService","preferencesStore","PreferencesStoreContext","sp","useSafePromise","useLoginCheck","roomUUID","useParams","setCameraDevices","setMicrophoneDevices","cameraDeviceId","setCameraDeviceId","microphoneDeviceId","setMicrophoneDeviceId","setIsCameraAccessible","setIsMicrophoneAccessible","volume","setVolume","avatar","getTestAvatar","enableCamera","enableMic","setElement","ticket","window","setInterval","Math","min","getVolumeLevel","random","clearInterval","handlerDeviceError","refreshCameraDevices","getCameraDevices","then","filter","length","catch","refreshMicDevices","getMicDevices","cameraChangeDisposer","events","on","micChangedDisposer","setCameraID","setMicID","lastCameraId","cameraId","find","lastMicrophoneId","microphoneId","updateCameraId","updateMicrophoneId","joinRoomHandler"],"mappings":"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"}